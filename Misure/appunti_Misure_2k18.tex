\documentclass[a4paper,11pt]{report}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage[italian]{babel}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{circuitikz}
\usepackage{pgfplots}
  \usepgflibrary{arrows}
\usepackage{float}
\usepackage{amssymb,amsmath}

\title{Appunti del corso di Misure}
\author{Andrea Donati - AA 2018/19}
\begin{document}

\maketitle
\tableofcontents

\begin{abstract}
Appunti presi a lezione e trascritti in modo da essere human-readable, contrariamente alle slide fornite dal professore.
\end{abstract}
\newpage
\chapter{Metrologia e Sistema Internazionale}
\section{Definizioni Metrologiche}
Diamo una prima definizione di ciò che chiamiamo "misura".\\
\bf Misura \rm può essere:

\begin{itemize}
  \item un procedimento di misurazione, che porta all'assegnazione di un valore a una grandezza fisica detta misurando.
  \item risultato della misurazione, che deve essere espresso in una maniera tale da essere comprensibile in tutte le sue forme: valore numerico, unità di misura e \bf incertezza \rm associata alla misura. Oggi il risultato di una misurazione è convenientemente espresso in questo modo.
\end{itemize}

Una \bf Grandezza\rm: attributo di un fenomeno o di una sostanza distinguibile \it qualitativamente \rm e determinabile \it quantitativamente\rm. Un esempio di Grandezza può essere l'altezza di un edificio, la \bf massa \rm di un TIR, la velocità di un fluido. Al contrario non possiamo definire "grandezza" la bellezza, la felicità, il gusto di un cibo, dato che queste non sono distinguibili qualitativamente, nè determinabili quantitativamente.
\\

Il \bf Misurando\rm: è il modo in cui ci riferiamo alla grandezza sottoposta a misura.
\\ 

Le \bf Grandezze Omogenee\rm: sono grandezze della stessa natura, e che quindi sono direttamente confrontabili tra loro. Una fondamentale caratteristica delle "grandezze omogenee" è che esse si esprimono nella
\bf stessa unità di misura\rm.
\\

Un'ulteriore definizione di \bf Misura \rm si può dare anche con le grandezze omogenee: una misura è il confronto tra due grandezze omogenee, di cui una è presa come \it riferimento \rm o \it campione di misura\rm.
\\

Il \bf Valore \rm di una misura è il numero che esprime il rapporto con il riferimento.
\\

Il riferimento di una misura può essere manufatto (una spanna, un piede, una tazza, un peso campione), od assoluto (un giorno, un ciclo lunare, 1 decimetro cubo di $H_2O$, proprietà della materia che difficilmente variano a seconda di tempo e spazio).
\\

Possiamo a questo punto fare degli esempi di misure sulla base di ciò che abbiamo definito fin'ora. Posso ad esempio misurare la lunghezza del mio tavolo da cucina in spanne, cioè prendendo la mia spanna come \bf riferimento\rm. La misura del tavolo avrà come \bf valore \rm, ad esempio, 7 e come unità di misura la spanna; diremo quindi "7 spanne".

Questa misura ha sicuramente un riferimento di tipo manufatto.
\\

Un esempio di misura di tipo assoluto è la misurazione di un intervallo di tempo in giorni. Ad esempio: sono passati \it 3 giorni\rm. l'unità di misura in questo caso è chiaramente il giorno.
\section{Errori di Misura}
È importante realizzare che, purtroppo, \bf non esiste \rm alcuna \it misura esatta\rm. Ogni misura è affetta da diversi contributi di errore, che si trasformano in cause di incertezza, le quali sono riducibili attraverso l'ingegnerizzazione della misura, ma non sono mai eliminabili.

Le possibili cause di incertezza di una misura possono essere dovute ai \it riferimenti \rm presi (nel caso dell'esempio precedente della misura del tavolo da cucina "a spanne", il riferimento preso è soggetto a forti cause di incertezza dato che è impossibile replicare la propria spanna esattamente ogni volta): si possono avere scostamenti dalla definizione dell'unità di misura utilizzata oppure variabilità del riferimento.

Anche i dati di origine sono fonte di incertezza in una misura, perché possono essere incompleti o scorretti, specie se risultati di altre misure.

Vi è inoltre la relazione tra misurando e sistema di misura che può causare incertezza, con \bf effetti di carico \rm ed \bf errori di modello\rm. Spieghiamo questi due concetti con altrettanti esempi:

\begin{itemize}
  \item \bf Effetto di Carico \rm è quello che si verifica, ad esempio, quando andiamo ad effettuare la misura di una tensione in un punto di un circuito elettrico con un voltmetro. Se inseriamo il voltmetro in un qualsiasi punto del circuito, per misurare la tensione esso usa una resistenza interna, quindi la tensione che in realtà leggiamo dal voltmetro avrà anche il contributo (seppur minimo) della resistenza interna del voltmetro. Se il voltmetro è "scarso" il fenomeno sarà più compromettente per la misura.
  \item \bf Errore di Modello \rm si verifica nel caso di misure indirette, ed è causato dalla relazione funzionale che descrive una misura indiretta. Più il modello sarà raffinato e completo, meno la misura risentirà dell'errore di modello. Un esempio può essere il calcolo della potenza elettrica sviluppata in un resistore che in prima analisi può essere $R \times I^2 $, ma esitono formule molto più precise per calcolarla.
  \item \bf Parametri ambientali (grandezze d'influenza)\rm: fattori come temperatura, pressione, umidità, vibrazioni o presenza di campi elettro-magnetici influenzano una misura.
  \item \bf Interazione occhio-strumento\rm: causa errori di parallasse, interpolazione e media.
  \begin{itemize}
    \item Parallasse: interessa gli strumenti analogici, è dovuto al non parallelismo tra il piano "di visione", cioè il piano sul quale ci poniamo come osservatori e il piano della "lancetta", che deve essere spostata dal piano della scala per muoversi.
    \item Interpolazione: la risoluzione dello strumento è troppo bassa per apprezzare tutti i livelli del misurando. La lancetta si ferma in una posizione intermedia tra due "tacchette" (immaginiamo quella dell'1 e quella del 2) e per cercare di desumere la misura l'utilizzatore stima ad occhio quanto essa sia più vicina all'una od all'altra tacchetta.
    \item Media: come spesso accade in risposta ad un rumore variabile nel sistema, la lancetta dello strumento ha delle oscillazioni ipoteticamente attorno al valore "giusto" della misura, quindi si cerca di indovinare tale valore. Questo tipo di errore è presente anche negli strumenti digitali i quali, in condizioni \bf ripetute \rm (vedremo poi cosa significa), mostrano valori diversi oltre una certa cifra decimale. L'utilizzatore allora registra tali valori differenti e li media. Questo approccio introduce anche un \bf filtro\rm, perché oltre una certa cifra decimale l'utilizzatore filtra, appunto, i risultati, mediandoli.
  \end{itemize}
  \item \bf Zero (offset)\rm: pensiamo di avere sottomano una bilancia qualsiasi, in un ipotetico grafico che mostra la corrispondenza valori "reali" di massa - valori misurati di massa. È desiderabile avere tutti i punti che appartengono alla retta bisettrice del primo (e terzo) quadrante. A volte non è così, ma la retta "propria" della bilancia è traslata in verticale di una certa quantità (pur mantenendo la pendenza).
  
  Può capitare di incontrare bilance, ad esempio per la pesa dei TIR, che "a vuoto" segnano già 100 Kg.
  \item \bf guadagno/pendenza (gain/slope)\rm: sempre riferendoci alla retta del punto precedente, questo errore si verifica quando la retta "reale" si differenzia dalla retta "ideale" per pendenza, per cui l'errore sarà maggiore al crescere della massa che si vuole misurare.
  \item \bf non-linearità\rm: sul grafico vediamo la differenza tra la curva ideale, che è una retta, e la curva reale, che non è lineare ed ha la massima distanza dalla retta ideale per i punti estremi.
  \item \bf Isteresi\rm: errore proprio degli apparecchi per misurazione che hanno al loro interno giochi meccanici, in questo caso gli errori di misura crescono mano a mano che si pesa ogni volta una massa maggiore/minore.
\end{itemize}

\section{Altre Definizioni Metrologiche}
Le seguenti definizioni sono tratte dal VIM (\it Vocabolario Internazionale di Metrologia\rm).

\begin{itemize}
  \item \bf Accuratezza\rm
  \begin{itemize}
    \item di un Campione: scarto tra la grandezza realizzata con il campione e la definizione dell'unità.
    \item di una Misura: vicinanza del valore di misura alla miglior stima possibile per il misurando.
    \item di uno Strumento: stima dell'incertezza dello strumento o confronto con uno migliore.
  \end{itemize}
  L'accuratezza NON è da confondere con l'incertezza.
  \item \bf Risoluzione\rm: capacità di uno strumento/misura di risolvere stati (livelli) diversi del misurando. ATTENZIONE: la risoluzione di uno strumento NON è "la minima grandezza misurabile"!!! Ma è il minimo intervallo di valori che è possibile apprezzare con il dato strumento.
  
  La risoluzione può essere una caratteristica qualitativa (alta/bassa) oppure quantitativa (si indica il valore della minima variazione apprezzabile).
  
  \item \bf Sensibilità\rm: rapporto tra la variazione della grandezza (segnale) di uscita e la corrispondente variazione della grandezza (segnale) d'ingresso.
  
  La sensibilità NON è l'esatta variazione dell'uscita rispetto all'ingresso, ma il RAPPORTO tra la variazione dell'ingresso e la variazione dell'uscita. La sensibilità indica quindi quanto una misura può essere fedele in un dato intervallo di valori rispetto ad altri intervalli di valori. Può essere quindi rappresentata da una curva, di cui il tratto iniziale è il tratto a maggior sensibilità, mentre più ci si avvicina alla saturazione (muovendosi a destra sulla curva) più la sensibilità decresce (con enfasi sulla zona finale).
  
  \item \bf Incertezza\rm: stima, eseguita secondo procedimenti convenzionali, del nostro livello di \it NON \rm conoscenza del misurando.
  
  \item \bf Ripetibilità\rm: capacità di ottenere, per uno stesso misurando, valori di lettura vicini tra loro \bf nel breve periodo \rm "nelle stesse condizioni" (stesso procedimento di misura, operatore, luogo e condizioni ambientali\dots).
  
  La ripetitibilità implica anche, ad esempio, la non-deteriorazione del misurando. La ripetibilità è da intendere proprio come capacità di misurare più volte e \bf nelle stesse condizioni\rm.
  
  \item \bf Riproducibilità\rm: capacità di ottenere, per uno stesso misurando, risultati vicini tra loro "in diverse e specificate condizioni di misura".
  
  Nella caratteristica della riproducibilità si elimina il vincolo temporale che era invece presente nella ripetibilità.
  
  \item \bf Riferibilità\rm: proprietà di una misura di essere messa in relazione (i.e. riferita) con quella fornita da un campione riconosciuto.
  
  Ad esempio, se eseguo la misura di un resistore in Ohm attraverso un Ohmmetro di scarsa qualità e ottengo $1\ K\Omega$, posso riferire la misura appena fatta a quella di un Ohmmetro di qualità molto migliore, il quale mi darà un valore più preciso, ad esempio $800\ \Omega$. Anche la misura di questo Ohmmetro può essere riferita ad una più precisa, ad esempio quella di un ente nazionale di misurazione, il quale riferirà le proprie misure ad un ente internazionale, fino ad arrivare al riferimento con la definizione/un campione.
  
  Questa successione di riferimenti è detta "catena di riferibilità", ed è abbastanza importante avere una catena di riferibilità corposa, piuttosto che averne una interrotta dopo un riferimento, perché significa che la mia misura non può essere molto confrontabile con altre più precise.
  
    \item \bf Stabilità\rm: capacità di ottenere, per uno stesso misurando, valori di lettura vicini tra loro in un intervallo di tempo ben definito e chiaramente specificato (con stesso procedimento di misura, operatore, luogo, e condizioni ambientali).
    
    Come la riproducibilità, ma durante il collezionamento delle misurazioni è necessario \bf specificare \rm l'orario in cui esse sono state prese.
  
\end{itemize}
\section{Il Sistema Internazionale}

Le note storiche sono facilmente reperibili sia on-line sia dai lucidi del professore, quindi sono state trascurate durante la stesura degli appunti.
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=12cm,
        height=6cm,
        keepaspectratio,
    ]{images/unitafondamentali.png}
    \caption{Le unità fondamentali del Sistema Internazionale.}
  \end{center}
\end{figure}
Il Sistema Internazionale è un \bf Sistema Coerente \rm in quanto tutte le sue unità derivate (qualunque grandezza G) si ricavano come prodotti e rapporti delle 7 unità di base, senza introdurre fattori moltiplicativi (come  $\pi,e,5\dots$).\\
Possiamo scrivere quindi che, indicando con "$dim(G)$" l'unità derivata dalle unità base SI: $$ dim(G) = L^\alpha M^\beta T^\gamma I^\delta \theta ^\varepsilon J^\eta N^\zeta  $$

Avendo:
\begin{itemize}
  \item L : Lunghezza (metro)
  \item M : Massa (kilogrammo)
  \item T : Intervallo di Tempo (secondo)
  \item I : Intensità di Corrrente (Ampere)
  \item $\theta$ : Temperatura (Kelvin)
  \item J : Intensità Luminosa (candela)
  \item N : Quantità di Sostanza (mole)
\end{itemize}

ognuno con il proprio esponente. Naturalmente, se la specifica unità base non compare nelle unità che compongono quella derivata, avrà esponente pari a $0$.
\\


Il Sistema Internazionale è anche un sistema completo? Tutte le unità di misura esistenti possono essere espresse attraverso le unità di base? Se così non fosse, sarebbe necessario aggiungere qualche unità a quelle del sistema internazionale.\\

Un'altra caratteristica importante del Sistema Internazionale è che le unità di base sono tra di loro dimensionalmente indipendenti, ma non logicamente indipendenti (e.g. il metro "dipende dal secondo").\\

Inoltre, nel S.I. esiste una sola unità di misura per ciascuna grandezza fisica, che è la corretta unità di misura di base o derivata da quelle di base. Ed è anche importante menzionare che attraverso uno qualsiasi dei \bf prefissi decimali approvati\rm, detti prefissi SI, può essere usato per costruire multipli e sottomultipli decimali delle unità di misura SI. Anche se sembra una caratteristica abbastanza naturale, esistono dei sistemi di misura che non la rispettano, ad esempio il sistema imperiale di misurazione delle distanze: la \it yard \rm non corrisponde a $1\ K\ inches$.

\subsection{Definzioni Assolute e Definizioni con Campioni Manufatti}
Nel Sistema Internazionale (ad oggi: settembre 2018), esistono ancora unità base definite attraverso dei campioni di riferimento, ad esempio il kilogrammo. Ebbene queste definzioni sono in un certo qual modo peggiori rispetto a quelle deifinite in modo assoluto, perché compromettendo il campione (ammettendo che esso sia unico, cosa che per fortuna non è - ne esistono diversi altri molto simili), si modificano virtualmente tutte le misure fatte da quel momento in poi. Un classico esempio espresso informalmente potrebbe essere "se qualcuno stanotte scambia il campione del kilogrammo, domani potremmo pesare tutti due etti in meno".

Le definizioni assolute invece sono "un'altra storia", perché esse sono realizzate attraverso costanti universali e proprietà invarianti della natura: il metro è definito attraverso la velocità della luce (costante universale), il secondo è definito attraverso la radiazione emessa da un atomo di Cesio in una particolare situazione (costante). Queste costanti (proprio per la loro natura di costanti) non varieranno mai nel tempo e si possono sempre ricavare.

\subsection{Cenni sulle Definizioni}
Prendendo come esempio la definzione dell'\bf Ampere\rm, la quale si basa sulla ricostruzione di un esperimento, abbiamo che la sua miglior realizzazione ha un'accuratezza di $10^{-7}$. Quest'accuratezza, confrontata con quella del secondo ($10^{-15}$) e del metro ($10^{-12}$ nella sua migliore realizzazione) risulta essere abbastanza scarsa. Questo è un gran contro della definizione dell'Ampere com'è adesso, perché tutte le unità di misura di tipo elettrico/elettronico si basano su di essa e quindi non si potrà mai avere una misura elettrica con un'accuratezza maggiore di $10^{-7}$.

In realtà, grazie agli effetti Josephson e Hall, si riescono a realizzare Volt Ohm con una riproducibilità altissima. Mentre la riproducibilità dell'Ampere è piuttosto scarsa, considerando che si dovrebbero porre in una stanza in cui si è simulato il vuoto due fili elettrici disposti in verticale di una lunghezza di almeno 10 metri.

\section{Tipi di Campioni}
Di seguito un elenco dei tipi di campioni che possiamo attualmente trovare in circolazione:s
\begin{itemize}
  \item \bf Campioni Primari: \rm sono quelli a cui si riferisce il Sistema Internazionale, che realizzano l'unità con i migliori livelli di accuratezza praticamente ottenibili.
  \item \bf Campioni Secondari: \rm consentono di trasferire l'unità ed effettuare i confronti tra i campioni primari e verso altri campioni. Se dobbiamo tarare uno strumento a Politecnico di Milano utiliziamo un campione secondario riferendoci a qualche ente nazionale.
  \item \bf Campioni di Trasferimento: \rm sono spesso campioni secondari, ma che sono anche adatti al trasporto.
  \item \bf Campioni "locali": \rm all'interno di un istituto o azienda, si dividono in campioni di prima linea (o di riferimento) e campioni di seconda linea (o di lavoro).
  \item \bf Campioni di Prima Linea: \rm si usano nei centri di taratura e di certificazione; sono usati poco di frequente e per tarare i campioni di seconda linea, oppure costutuiscono il campione di riferimento per l'istutito/azienda/laboratorio.
  \item \bf Campioni de Seconda Linea: \rm si usano nelle misure e confronti di routine, previo un confronto con quelli di prima linea, per fare le misure correnti (e.g. nella produzione o per misure sul campo).
\end{itemize}
Possiamo vedere questo elenco anche come una \it catena di riferibilità\rm, che abbiamo menzionato nella sezione precedente.

\section*{Taratura e Messa in Punto}
\begin{itemize}
  \item \bf Taratura: \rm consente di valutare l'incertezza di un campione/strumento rispetto a uno di qualità superiore e ricavare le correzioni (vedi Riferibilità).
  \item \bf Messa in Punto: \rm insieme di operazioni volte a permettere a uno strumento di operare nelle migliori condizioni di lavoro.
\end{itemize}
\section{Simboli e Regole del S.I.}
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=12cm,
        height=6cm,
        keepaspectratio,
    ]{images/multiplisottomultipli.png}
    \caption{Multipli e Sottomultipli nel Sistema Internazionale.}
  \end{center}
\end{figure}
\section{Unità Logaritmiche} \label{sezione:unitaLog}
Le unità logaritmiche esprimono sotto forma di logaritmo il rapporto tra due grandezze \bf omogenee\rm. Notiamo che le grandezze in rapporto devono necessariamente essere omogenee, perché l'operatore logaritmo agisce solamente su numeri puri.
Una caratteristica che torna utile nelle unità logaritmiche è una delle proprietà dei logaritmi, cioè che le operazioni di moltiplicazione e divisione tra numeri si traducono in somme e differenze.

Le unità logaritmiche sono utilizzate molto nel campo dell'elettronica e delle telecomunicazioni. I logaritmi più comunemente utilizzati sono quello in base 10 ($log_{10}$), quello in base $e$ ($log_{e} = ln$) e in informatica quello in base 2 ($log_{2}$).
\subsection{Il Bel}
Il \textbf{bel} esprime il rapporto di potenze in scala logaritmica utilizzando una base decimale: $$\Bigg(\frac{P_{2}}{P_{1}}\Bigg)_{(bel)} = log_{10}\Bigg(\frac{P_{2}}{P_{1}}\Bigg)$$
Il nome "bel" deriva dal suo inventore \textit{Alexander Graham-Bell} il quale, dovendo fare dei confronti tra potenze trasmesse per via aerea, si accorse che decadevano in maniera esponenziale.\\
È molto importante ricordarsi sempre che il bel rappresenta il logaritmo di un \textbf{rapporto tra due misure}, ed è quindi un modo per mettere in relazione due misure. Il difetto principale del bel è che 1 bel rappresenta un rapporto di un fattore 10:1 e dunque una scala in bel risulta "grossolana". Per risolvere\footnotemark \footnotetext[1]{Il significato di "risolvere" in questo caso è legato alla definizione che abbiamo dato nella sezione 1.3. Quindi "risolvere" in questo contesto và interpretato come "avere una \textbf{risoluzione} tale da poter apprezzare variazioni "più fini".} rapporti o variazioni "più fini" è conveniente utilizzare un suo \textbf{sottomultiplo}, il \textit{deciBel (dB)}.
\subsection{Il deciBel}
È un \textit{sottomultiplo} ($\frac{1}{10}$) del bel, esprime quindi anch'esso il rapporto di potenze (o anche ampiezze), mediante il logaritmo in base 10. $$\Bigg(\frac{P_{2}}{P_{1}}\Bigg)_{(dB)} = 10log_{10}\Bigg(\frac{P_{2}}{P_{1}}\Bigg)$$
Ricordando che il deciBel, come il bel, esprime rapporti di potenze, possiamo dire che $ 1\ dB \simeq 1.25 = 1 + 25\% $. Quindi si può dire che $P_{2}$ è "più grande" di $P_{1}$ del 25\%.\\
I rapporti di ampiezze, quando tensione e correnti sono misurate \textbf{su uno stesso carico}, si esprimono in deciBel secondo la relazione $$ 20log_{10}\Bigg(\frac{A_{2}}{A_{1}}\Bigg) $$
Questa formula discende direttamente dal decibel.
\subsection*{"dBx"}
Con dBx si indica il valore in decibel espresso rispetto ad un \textbf{riferimento x}. Scelto un livello di potenza $P_{x}$ come riferimento, un qualunque valore di potenza P può essere espresso in \textbf{decibel rispetto al riferimento} come
$$
  P_{(dBx)} = 10log_{10}\Bigg( \frac{P}{P_{x}} \Bigg)
$$
In particolare, esisterano dunque:
$$P_{(dBm)} = 10log_{10}\Bigg( \frac{P}{1mW} \Bigg)$$
$$P_{(dBW)} = 10log_{10}\Bigg( \frac{P}{1W} \Bigg)$$
$$P_{(dBk)} = 10log_{10}\Bigg( \frac{P}{1kW} \Bigg)$$
Che esprimono la variazione della potenza misurata rispetto ad un riferimento "standard" di 1 milliWatt, Watt oppure kiloWatt.\\ \\
Nota: i "dBx" sono normali decibel, quindi possono essere sommati/sottratti a decibel.\\ \\
{\Large {\textbf{Attenzione:}}} NON è in nessun modo possibile sommare tra loro i dBx!! Un rapido esempio è che
$$1 W + 1 W = 2 W$$
$$+30 dBm + 30 dBm \neq + 60 dBm = \ kW$$
\subsection{Esempi di Calcoli e Conversioni con dB}
$$P = 10\ W \rightarrow P_{dBW} = 10 log_{10}\Bigg(\frac{P}{1W}\Bigg) = 10 log_{10}\Bigg(\frac{10 W}{1 W}\Bigg) = 10 log_{10}(10) = 10\ dBW$$
$$P = +90\ dBW = 10 log_{10}\Bigg(\frac{P}{1W}\Bigg) \rightarrow P = \Bigg( 10 \frac{PdbW}{10}\Bigg)\times 1 W = 10^9 W $$
Per altri esempi e una migliore spiegazione si rimanda al Capitolo \ref{esercizi:conversione}.
\newpage
\chapter{Incertezza di Misura}
Abbiamo detto che la misura è un \textbf{numero} associato alla sua unità di \textbf{misura}. Adesso è il momento di aggiungere un qualcosa che esprime anche "quanto mi fido" della misura in questione, cioè l'\textbf{incertezza}. Possiamo quindi esprimere le misure, da ora in poi, come: $$ MIS_{x} = x_{numero}\ x_{unità\ di\ misura} \pm INC_{x}\ x_{unità\ di\ misura} $$
Addirittura a volte arriviamo ad esprimere anche l'incertezza dell'incertezza, che dice quanto fidarsi dell'incertezza. Esprime l'attendibilità della stima di incertezza in questione.
\section{Variabilità delle Misure} Misure ripetute dello stesso parametro fisico non forniscono lo stesso valore. È considerabile come una legge della natura, è impossibile che due misure consecutive diano esattamente lo stesso risultato per ogni cifra decimale. La caratteristica che ci permette di determinare l'incertezza della misura è la \textbf{deviazione standard} (o dispersione $\sigma$) della misura in questione, mentre il valore della misura sarà la \textbf{media} ($\mu$).
$$SLIDE\ GAUSSIANA$$
Le misure sono sempre affette da fluttuazioni o errori (almeno potenziali), mai perfettamente conoscibili, che si traducono in una naturale "indeterminazione" o INCERTEZZA sul risultato di misura.\\
Per questo conviene abbandonare l'approccio deterministico in favore di un \textbf{approccio statistico} grazie al quale è possibile stimare le fluttuazioni.\\
La variabilità del risultato di una misura è analizzata grazie ai metodi consolidati della statistica (varianza e deviazione standard). Il risultato dunque non è mai un unico numero "deterministico", ma un intervallo di valori possibili entro il quale il misurando può trovarsi con una data probabilità (e potrà anche trovarsi fuori dall'intervallo).
\paragraph*{Si definisce incertezza di misura} la semiampiezza di un particolare intervallo di valori (l'intervallo $\pm 1$ deviazione standard del valore centrale), centrato nella \textbf{media}.
\section{Teoria degli errori}
Anche se è ormai superata, la teoria degli errori di misura ci aiuta a comprendere la natura dell'incertezza, essa prevedeva che un misurando non potesse mai essere perfettamente conosciuto a causa degli inevitabili errori di misura (intrinseci in ogni metodo o strumento utilizzato per la misurazione). Si potrebbe dire che: $$Errore \equiv  Valore\ Misurato - Valore\ Vero$$
ma questa risulterebbe un'affermazione errata, dato che il valore \textbf{vero} non potrà mai essere conosciuto, esso è un mero concetto astratto, e quindi l'errore resta completamente indeterminato.\\
La teoria degli errori definiva alcuni tipi di errori che si verificano più spesso:
\begin{itemize}
  \item \textbf{Errori Sistematici:} si presentano nella stessa entità ogni volta che si ripete la misura (\textit{offset} o polarizzazione).\\
  Per esempio possiamo pensare ad un peso di massa \textit{m} che viene posto su una bilancia digitale, leggendo il valore riportato dalla bilancia si noterà un \textit{offset} costante di 100g in più rispetto al valore $m$.
  \item \textbf{Errori Accidentali:} si presentano in maniera diversa e "impredicibile" ogni volta che si ripete la misura (fluttuazione casuale a media nulla).\\
  Per esempio:
\end{itemize}
L'idea era sommare errori sistematici e accidentali, ma riflettendo un momento, anche se sappiamo che esse sono due grandezze omogenee, troviamo che sono concettualmente diverse per loro natura. È quindi logicamente scorretto sommarli in quanto i primi (sistematici, deterministici) sono completamente conscibili mentre i secondi (\textbf{aleatori}), sono solamente stimabili in senso statistico e talora riducibili ma \textbf{mai} eliminabili del tutto.
\paragraph*{Incertezza standard di misura} è ciò che secondo il CIPM è una corretta analisi statistica della variabilità di una misura. È un parametro, valutato seondo procedure \textbf{convenzionali} (standard), che esprime il nostro grado di non conoscenza del misurando.\\
Abbiamo due \textbf{categorie di stima} dell'incertezza:
\begin{itemize}
  \item \textbf{Stimata con Metodi Statistici} su un campione di misure.
  \item \textbf{Stimata in Altro Modo} ad esempio attraverso conoscenze a priori o proprietà dello strumento.
\end{itemize}
\section{Richiami di Probabilità e Statistica}
Per noi la probabilità è un numero $p\ \epsilon\ [0,1]$ dove 0 indica l'evento impossibile e 1 l'evento certo.\\
Chiamiamo invece \textit{variabile casuale} (VC) una variabile $X$ con valori $x\ \epsilon\ \Re $.\\
La probabilità è una funzione $P$ definita come:
$$P(a \le x \le b) \int^b_a p(x)dx$$
Cioè l'integrale tra due estremi $a$ e $b$ dell funzione $p(x)$ detta densità di probabilità (\textbf{PDF}). La PDF descrive il processo casuale considerato assegnando la probabilità per i possibili valori d'uscita. Per una VC continua la "probabilità puntuale" è nulla, mentre non può essere nulla la probabilità di cadere in un intervallo di valori. In altre parole, per una variabile aleatoria con PDF continua non è possibile che essa assuma un valore "deterministico", ma è solamente possibile ricavare la probabilità che il valore della VC stia in un intervallo di valori.\\
Per ogni PDF vale sempre $\int^{+\infty}_{-\infty}p(x)dx = 1$.\\

Per $X$ variabile casuale reale (che possiamo vedere come il possibile valore di una misura) esistono degli \textbf{stimatori} che ci consentono di conoscere, in senso statistico, alcuni parametri caratteristici del processo casuale. In particolare \textbf{media} e \textbf{varianza} permettono di stimare la tendenza centrale e la dispersione dei valore $x$ associabili a $X$.
\begin{itemize}
  \item \textbf{Media:}
  $$ \mu(x) = \mu_{x} = E[x] = \int^{+\infty}_{-\infty}xp(x)dx$$
    L'integrale di tutti i valori possibili di x pesati per il loro "peso probabilistico", cioè per la $p(x)$.
  \item \textbf{Varianza:}
  $$ \sigma^{2}(x) = \sigma^{2}_{x} = E[[x - \mu_{x}]^{2}] = \int^{+\infty}_{-\infty}[x - \mu_{x}]^{2}p(x)dx$$
  Scarto quadratico medio rispetto al "valore centrale", cioè la media.
  \item \textbf{Deviazione Standard:}
  $$ \sigma(x) = \sqrt{\sigma^{2}(x)} $$
  Indice di scarto, rispetto alla media, \textbf{lineare}.
\end{itemize}
\subsection{La PDF Gaussiana}
È la PDF "più comune" per la descrizione della media di fenomeni casuali quali le misure. Avendo infatti un significativo numero di misurazioni sappiamo, dalla statistica, grazie al teorema del limite centrale, che la media di una VC tende ad avere una PDF gaussiana in una "approssimazione dei grandi numeri", assumendo quindi la PDF di una Gaussiana:\\
$$ p(x) = \frac{1}{\sqrt{2\pi}\sigma}e^{-\frac{[x-\mu]^2}{2\sigma^2}} $$
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=10cm,
        height=5cm,
        keepaspectratio,
    ]{images/pdfgaussiana.png}
    \caption{La PDF gaussiana con vari esempi di valori di $\mu$.}
  \end{center}
\end{figure}
Integrando la PDF Gaussiana\footnotemark[1] \footnotetext[1]{In realtà la PDF Gaussiana non si può integrare analiticamente. Per fortuna però sono stati trovati dei modi per integrarla numericamente generando delle tabelle di valori di probabilità per diversi intervalli. Con espedienti di normalizzazione, riusciamo a calcolare le probabilità per tutte le $\infty^2$ Gaussiane esistenti.}tra due valori sull'asse reale si trova la probabilità che il risultato (misura) "cada" nell'intervallo compreso tra i due valori considerati.\\
Le \textbf{aree} sottese dalla PDF sono le probabilità di avere valori (misure) in un dato intervallo di valori sull'asse reale. Lontano dalla media $\mu$, rispetto alla larghezza $\sigma$, la PDF diviene molto bassa e dunque le aree sottese molto piccole, che implicano probabilità altrettanto "piccole", e rappresentano misure improbabili.
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=10cm,
        height=5cm,
        keepaspectratio,
    ]{images/gaussianaIntervalli.png}
    \caption{La PDF gaussiana con vari livelli di confidenza.}
    \label{gaussiana:livelli}
  \end{center}
\end{figure}
\newpage
I concetti di "vicinanza o lontananza dalla media" non si possono esprimere semplicemente attraverso i valori. Bisogna rapportare questi valori alla varianza $\sigma$: ad esempio, se sono lontano dalla media "di 10 milioni di kilometri" (che come valore è "molto grande" e quindi ci sembra di essere molto lontani), ma con una $\sigma$ di 100 milioni di kilometri, in realtà sono lontano dalla media solo di $\frac{\sigma}{10}$, quindi sono piuttosto vicino.


Livelli di confidenza è il nome che diamo a fattori moltiplicativi di $\sigma$ che indicano con quanta sicurezza cadremo in un intervallo di ampiezza $livello\ di\ confidenza \times \sigma$.
$$ 1\sigma \rightarrow 68.27\% \simeq 68.3\% \sim 68\% $$
$$ 2\sigma \rightarrow 95.45\% \simeq 95.5\% \sim 95\% $$
$$ 3\sigma \rightarrow 99.73\% \simeq 99.7\% \ \ \ \ \ \ \ \ \ $$
Per esempio, possiamo dire che la misura cadrà in un intervallo di ampiezza $1\sigma_{x}$ ripetto alla media $\mu_{x}$ con una \textbf{confidenza} del 68.3\%. In simboli:
$$ P[(\mu_x - \sigma_x)\le x \le (\mu_x + \sigma_x)] \simeq 68.3\% $$
Per un esempio grafico si può analizzare la Figura ~\ref{gaussiana:livelli}.
\subsection{Media Campionaria}
Sia $X$ una variabile casuale (il misurando), nota attraverso $n$ determinazioni (misure) $x_k\ (k=1,2,..n)$ ottenute in condizioni di \textbf{ripetibilità}, si \textbf{stima} del valor medio della "popolazione", $\mu(x)$, attraverso lo stimatore \textbf{media campionaria} (per lo specifico campione):
$$
  \bar{x} = \bar{x_k} \equiv \frac{1}{n} \sum^{n}_{k=1}x_k  
$$
Essendo questo uno stimatore, abbiamo anche che, \textit{nel senso della stima}, possiamo dire $ \mu_x = \bar{x}$.\\
A questo punto abbiamo determinato parte della misura così come la vogliamo noi. Abbiamo determinato il \textbf{valore di misura}. Per determinare la dispersione (incertezza) sul valore di misura dovremo valutare la dispersione, almeno potenziale, della variabile casuale $\bar{x}$ (valore di misura). Dunque cercheremo $\sigma(\bar{x})$, che scopriremo essere funzione di $\sigma(x)$ e del numero $n$ di misure ripetute.
\subsection{Varianza Campionaria}
Stimiamo la varianza della "popolazione", $\sigma^2$, attraverso lo stimatore \textbf{varianza campionaria} (per lo specifico campione):
$$
  s^2(x) = s^2(x_k) \equiv \frac{1}{n-1}\sum^{n}_{k=1}(x_k-\bar{x})^2
$$
Con pochi passaggi matematici si può arrivare anche al metodo alternativo per il calcolo della varianza campionaria:
$$
  s^2(x) = \frac{1}{n-1}\Bigg[\Bigg(\sum^{n}_{k=1}x^2_k\Bigg)-n\bar{x}^2\Bigg]
$$
\paragraph{Gradi di Libertà della Stima} è il nome che diamo all' $n-1$ nella formula della varianza, diremo che quella stima della varianza ha $\nu = n-1$ gradi di libertà.\\

\textit{Perché quindi dividiamo per il numero di gradi di libertà e non per n?}
\begin{itemize}
  \item Non ha alcun senso calcolare la varianza per un campione che contenga solo un dato ($n=1$) ed in tal caso, dividendo per $n-1 = 0$ si ottiene come $s^2(x)$ una forma indefinita del tipo $\frac{0}{0}$.
  \item Nella formula di $s^2(x)$ calcoliamo di fatto gli scarti quadratici dalla media campionaria, che è nota, e non dalla media della popolazione $\mu_x$ che è ignota: dunque degli $n$ scarti quadratici sommati solo $n-1$ sono tra loro indipendenti. Intuitivamente, conoscendo la media di un campione di $n$ dati, ma conoscendo solamente $n-1$ di questi, si può facilmente ricavare l'$n-esimo$, quindi solo $n-1$ sono indipendenti.
  \item Si dimostra che il valore attteso della varianza campionaria con l'$n-1$ al denominatore, è la varianza della popolazione:
  $$
    E[s^2(x)] = \sigma^2(x)
  $$
  e si dice in questo caso che lo stimatore è \textit{corretto} (o non polarizzato).
\end{itemize}
\section{Incertezza Standard}
Possiamo ora definire l'\textbf{incertezza standard} (o scarto tipo):\\

Incertezza standard, con simbolo "$u$" (dall'inglese \textit{uncertainty}), è una \textbf{stima della deviazione standard} $\sigma$, radice quadrata della varianza $\sigma^2$, prevista per il valore di misura.\\ \\
A seconda del metodo impiegato per la stima di $u(\cdotp)$ classificheremo questa incertezza come di categoria A o B.

Ricordiamo che l'origine dell'incertezza dipende solamente dagli errori che abbiamo definito come \textit{accidentali}, non dalla parte sistematica, dato che quest'ultima (detta anche offset o polarizzazione) può essere sempre corretta.

\subsection{Incertezza di Categoria A}
Per determinare l'incertezza sul valore di misura valutiamo la deviazione standard della variabile casuale $\bar{x}$ (cioè del valore di misura).

$\bar{x}$ è, almeno potenzialmente, una variabile casuale in quanto il suo valore specifico dipende dal particolare campione di dati considerato. Se disponessimo di $m$ diversi insiemi di $n$ misure ripetute e per ciascuno calcolassimo la $\bar{x}$ corrispondente, otterremmo $m$ valori di $\bar{x}$ differenti tra loro, la cui varianza è:
$$
  \sigma^2(\bar{x}) = \sigma^2\Bigg(\frac{1}{n}\sum_kx_k\Bigg) = 
  \frac{1}{n^2}\sum_k\sigma^2(x_k) = \frac{1}{n^2}n\sigma^2(x) =
  \frac{\sigma^2(x)}{n}
$$
Quindi abbiamo che \textbf{la varianza del valor medio è la varianza dei dati diviso $n$}.
La \textbf{miglior stima} di $\sigma^2(\bar{x})$ si ottiene quindi come\footnotemark[1] \footnotetext[1]{$=^s$ va interpretato come "uguale nel senso della stima". I due termini infatti non sono uguali nel senso matematico del termine, ma \textbf{sotto un approccio statistico} possono considerarsi uguali.}:
$$
  \sigma^2(\bar{x}) = \frac{\sigma^2(x)}{n} =^s \frac{s^2(x)}{n}\ \ e\ \ \sigma(\bar{x}) = \frac{s(x)}{\sqrt{n}}
$$

Definiamo quindi l'\textbf{incertezza di categoria A} la dispersione del valor medio delle misure ripetute, calcolabile come:
\begin{equation}
  \label{inc.cat.A}
    u_A(x) = s(\bar{x}) = \frac{s(x)}{\sqrt{n}} = \sqrt{\frac{1}{n(n-1)}\sum^n_{k=1}(x_k-\bar{x})^2}
\end{equation}

Nel caso di incertezza \textbf{solo} di categoria A, il risultato di misura è allora $x = \bar{x} \pm \frac{s(x)}{\sqrt{n}}$, con una qualità che migliora (quindi l'incertezza diminuisce) al crescere di $n$.
\subsection{Incertezza Relativa}
Parliamo di \textbf{incertezza relativa} quando normalizziamo il valore di incertezza dipo al valore di misura:
$$
  u_r(x) = \frac{u(x)}{\bar{x}}
$$
Dimensionalmente è un \textbf{numero puro}.

L'incertezza relativa indica, indipendentemente dal valore e tipo del misurando, il grado di conoscenza che abbiamo raggiunto sul \textbf{valore di misura}. Essendo quindi un parametro relativo solamente al \textbf{valore}, possiamo confrontare direttamente tra loro incertezze relative di grandezze diverse (non omogenee), perché non trattiamo di unità di misura. Un esempio può essere: possiamo confrontare l'incertezza relativa su una misura di un intervallo di tempo (una \textit{parte per milione} - $10^{-6}$) con l'incertezza relativa della misura dell'altezza di un edificio ($10^{-3}$) dicendo che la prima misura è sicuramente \textbf{migliore} della seconda, in termini di incertezza.

Ora che conosciamo l'incertezza relativa, possiamo \textit{"relativizzare"} qualunque tipo di incertezza, anche quella che vediamo al prossimo paragrafo, l'\textbf{incertezza estesa}.
\subsection{Incertezza Estesa}
Con l'incertezza estesa definiamo un intervallo di valori centrato nel valore di misura $y = \bar{y}$ all'interno del quale si ritiene che il misurando debba cadere con un certo \textbf{livello di confidenzza}.
$$
  U(y) = k u(y)
$$
Con $k$ \textit{fattore di copertura}. I valori che tipicamente assume $k$ sono 1,2 e 3, che corrispondono rispettivamente a livelli di confidenza del 68, 95, 99.7\%.

Questo si può desumere intuitivamente, l'incertezza come l'abbiamo definita va ad indicarci un intervallo di valori attorno al valore di misura nel quale è contenuto il "vero" valore della misura. Con l'incertezza estesa andiamo appunto ad \textit{estendere} questo intervallo di un fattore "a piacere", aumentando la probabilità che il valore "vero" vi sia contenuto.
\subsection{Cifre signifiative per l'incertezza}
Abbiamo già menzionato l'esistenza dell'"incertezza dell'incertezza", definendola come un parametro indicattivo del nostro livello di fiducia del calcolo dell'incertezza. Già questo fatto suggerisce che l'incertezza che calcoliamo non può essere espressa molto precisamente.

Infatti, l'incertezza si esprime con una o \textbf{al più due} cifre significative: data l'esistenza di un'incertezza dell'incertezza non ha senso impiegare più di due cifre significative per $u(x)$. Quando si deve troncare il valore di un'incertezza, è necessario \textbf{arrotondare per eccesso}, a meno che l'arrotondamento per difetto non comporti un errore inferiore al 5\%. Questo perché non vogliamo \textbf{sottostimare} l'incertezza, dato che potrebbe comportare errori gravi, vorrebbe dire che il valore "vero" della misura potrebbe cadere al di fuori dell'intervallo da noi definito "molto più frequentemente" di quanto ci aspettiamo. Per questo è sempre meglio \textbf{sovrastimarla} arrotondando per eccesso.

Un esempio di arrotondamento per difetto che comporta meno del 5\% di errore può essere:
$$
  u(m) = 89.1\ kg\ = 89\ kg
$$
perché in questo caso lo 0.1 su 89 kilogrammi è sicuramente meno del 5\%.
\subsection{Esercizio: Calcolo Incertezza di Cat. A}
Si dispone di n = 10 misure ripetute $V_k$ di una tensione incognita $V$.\\
Calcolare $V$ $u_A(V)$.
\begin{table}[H]
  \caption{Serie di misurazoni da considerare.}
  \label{tab:esIncertezza}

  \begin{center}
    \begin{tabular}{|l|c|r|r|r|r|r|r|r|r|r|}
    \hline
       k[1]       & 1& 2& 3& 4& 5& 6& 7& 8& 9& 10 \\
    \hline
       $V_k$[$V$] & 7& 9& 8& 6& 7& 5& 7& 8& 6& 7 \\
    \hline
    \end{tabular}
  \end{center}
\end{table}
Calcoliamo la media campionaria per conoscere il valore medio che è il valore della nostra misura:
$$
  V = \bar{V} = \frac{1}{n}\sum^n_{k=1}V_k = \frac{1}{10}70\ V = 7 V
$$
Posso quindi calcolare l'incertezza standard di categoria A per la misura con ognuna delle seguenti formule:
\begin{align}
  u_A(V)& = \frac{s(V)}{\sqrt{n}} \label{incA:1}\\
  u_A(V)& = \sqrt{\frac{1}{n(n-1)}\sum^n_{k=1}(V_k-\bar{V})^2} \label{incA:2}\\
  u_A(V)& = \sqrt{\frac{1}{n(n-1)}\Bigg(\sum^n_{k=1}(V_k^2)\Bigg)-n\bar{V}^2} \label{incA:3}
\end{align}

Per la seconda espressione (Formula \ref{incA:2}) di $u_a(V)$ ci conviene prima calcolare tutti gli scarti $(V_k-\bar{V})$, notando che alcuni degli scarti che otteniamo risultano 0 e quindi non contribuiscono all'incertezza\footnotemark[1].\footnotetext[1]{Se invece l'intera incertezza standard di categoria A dovesse risultare 0, vuol dire che abbiamo commesso uno o più errori. Ad esempio, se le misurazioni effettuate variavano al millivolt, mentre sono state annotate al volt, la causa dell'errore è l'operatore che non ha annotato correttamente le misurazioni.}
\begin{table}[H]
  \caption{Scarti calcolati rispetto alla media campionaria $\bar{V}$.}
  \label{tab:esIncertezza:scarti}

  \begin{center}
    \begin{tabular}{|l|c|r|r|r|r|r|r|r|r|r|}
    \hline
       ($V_k-\bar{V}$) [$V$]   & 0& 2& 1& -1& 0& -2& 0& 1& -1& 0 \\
    \hline
    \end{tabular}
  \end{center}
\end{table}
Ricaviamo quindi:
$$
  u_A(V) = \sqrt{\frac{1}{10\times 9}(0+4+1+1+0+4+0+1+1+0)V^2} = \sqrt{\frac{12}{90}V^2} \simeq 0.37\ V
$$
\\
Per la terza espressione (Formula \ref{incA:3}), calcoliamo prima la sommatoria
$$
  \sum^N_{k=1}V^2_k = 502\ V^2\ e\ \bar{V} = 7\ V
$$
ricavando quindi:
$$
  u_A(V) = \sqrt{\frac{1}{10\times 9}[509\ V^2 - 10 \times 49\ V^2]} = \sqrt{\frac{12}{90}\ V^2} \simeq 0.37\ V
$$
\\
Per la prima espressione (Formula \ref{incA:1}) dobbiamo prima conoscere o calcolare la radice della varianza campionaria (cioè la deviazione standard campionaria) $s(V) = 1.1547$ per poi dividerla per $\sqrt{n}$:
$$
  u_A(V) = \frac{1.1547\ V}{\sqrt{10}} = 0.365148... \simeq 0.37\ V
$$

In questo ultimo caso abbiamo un esempio di arrotondamento dell'incertezza alla seconda cifra decimale, per eccesso. Ma se, ad esempio, il risultato fosse stato 0.36\textbf{4}321? Questo 4 come terza cifra decimale ci avrebbe permesso di arrotondare il risultato per difetto? Ovviamente no, perché avrebbe comportato un errore molto maggiore rispetto al 5\%.
\subsection{Cifre significative per il risultato di una misura}
Esistono due maniere per esprimere una misura, in forma estesa e in forma compatta, con i numeri dell'esercizio precedente avremmo:
\begin{center}
  V = 7.00 V $\pm$ 0.37 V~~ oppure~~ V = 7.00(37) V    
\end{center}
O anche, in modo più approssimato: V = 7.0 V $\pm$ 0.4 V.
\subsection{Incertezza di Categoria B}
Si basa sulla definizione "a priori" di un opportuno intervallo di valori entro il quale si suppone debbano cadere i valore del misurando (con una data probabilità). L'intervallo non viene naturalmente definito "a caso", ma si presuppone di conscerlo da studi antecedenti alla misura.

L'intervallo fissato è tipicamente centrato attorno al \textbf{valor medio}
$$\bar{x} = a_0 = \frac{(a_0+a)+(a_0-a)}{2}$$ ed ha una piena larghezza $$\Delta x = (a_0+a)-(a_0-a) = 2a$$
E chiaramente alla larghezza $\Delta x$ sarà legata l'\textbf{incertezza di misura}.\\
Questo intervallo viene modellizzato con una \textbf{PDF} di cui possiamo calcolare media $\mu$ e varianza $\sigma^2$. Ad esempio possiamo modellizzare con una ben nota Gaussiana Standard con $2\sigma = $ l'ampiezza dell'intervallo. Ma in altri casi è possibile che i ragionamenti "a priori" ci diano motivo di pensare che la PDF migliore sia \textit{triangolare}, oppure \textit{uniforme}.\\

Dunque possiamo definire il procedimento per ottenere una stima dell'incertezza standard di categoria B:
\begin{enumerate}
  \item Definito un \textbf{intervallo} di categoria B
  \item si associa una densità di probabilità (\textbf{PDF})
  \item di questa si calcolano media $\mu$, varianza e \textbf{deviazione standard} $\sigma$.
\end{enumerate}
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=10cm,
        height=5cm,
        keepaspectratio,
    ]{images/passiIncertezzaB.png}
    \caption{Passi per l'incertezza standard di categoria B.}
    \label{incertezzaB:passi}
  \end{center}
\end{figure}
Ma a questo punto una domanda sorge spontanea:
\begin{center}
  \textit{Come segliamo l'intervallo e la PDF?}
\end{center}
Tanto la larghezza dell'intervallo quanto la PDF ad esso associata si scelgono sulla base di:
\begin{itemize}
  \item precedenti conoscenze o dati di misura
  \item esperienza sul comportamento del misurando
  \item specifiche dei costruttori di materiali e strumenti coinvolti nella misura
  \item dati di calibrazioni
  \item informazioni da articoli scientifici/tecnici
  \item incertezza sui parametri di riferimento (presa dai manuali o da altre fonti)
\end{itemize}
\subsection{Le PDF più comuni}
\subsubsection{Gaussiana (Normale)}
Basta ricordare che
\begin{center}
\begin{itemize}
  \item $1\sigma$ \textit{level}: $P[\mu-\sigma \le x \le \mu+\sigma] \simeq 68.3\%$
  \item $2\sigma$ \textit{level}: $P[\mu-2\sigma \le x \le \mu+2\sigma] \simeq 95.5\%$
    \item $3\sigma$ \textit{level}: $P[\mu-3\sigma \le x \le \mu+3\sigma] \simeq 99.7\%$
\end{itemize}  
\end{center}
\subsubsection{Uniforme (Rettangolare)}
La PDF rettangolare è definita come:
\begin{equation}
   \begin{cases}
   0~~~~~~~~~~~~~~~x < a_0 -a\\
   \frac{1}{2a}~~~~~~~~~~~~~a_0 -a \le x \le a_0 + a\\
   0~~~~~~~~~~~~~~~x > a_0 +a
   \end{cases}
\end{equation}
La particolarità della PDF uniforme è che si può \textbf{sempre} esprimere la sua deviazione standard come:
$$
  \sigma_{UNI}(x) = \frac{\Delta x}{\sqrt{12}}
$$
\subsubsection{Triangolare}
Elenchiamo alcune delle proprietà della PDF Triangolare
$$
  \mu(x) = a_0
$$
Con $a_0$ valore medio.
$$
  \sigma^2(x) = \frac{a^2}{6} = \frac{(\Delta x)^2}{24}
$$
$$
  \sigma(x) = \frac{\Delta x}{\sqrt{24}}
$$
A pari larghezza $\Delta x$, si ha naturalmente che:
$$
  u_{B,triangolare}(x) = \frac{\Delta x}{\sqrt{24}} < u_{B,uniforme}(x) = \frac{\Delta x}{\sqrt{12}}
$$
Infatti la PDF$_{Tri}$ è "meno dispersa" della PDF$_{Uni}$.
\newpage
\section{Incertezza Composta $u_C$}
L'incertezza composta deriva appunto dalla composizione di diverse incertezze, che possono essere di categoria A e di categoria B.
\subsection{Incertezza Composta per Misure Dirette e Indirette}
\subsubsection{Misure Dirette}
Nel caso di misure dirette (\textit{e.g.} misure di V con un voltmetro) possiamo calcolare l'incertezza composta come:
$$
  u^2_C = u^2_A + u^2_B
$$
\subsubsection{Misure Indirette}
Nel caso di misure \textbf{indirette}, invece, il discorso è molto più complesso.

Un esempio di misura indiretta può essere la misura di una potenza elettrica \textbf{senza wattmetro}, cioè ottenuta da R ed I tramite la formula $P = RI^2$. In questo caso la \textbf{misura è funzione di più misure}: $y = f(x_1,x_2,\ldots ,x_N)$.
È possibile calcolare $u_B(x)$ partendo dalla conoscenza di un \textbf{ intervallo di confidenza} con probabilità $P$, usando una PDF normale con confidenza $P$, centrata sul valore centrale dell'intervallo.

Stimeremo l'incertezza in questo caso come:
$$
  u_B(x) = \sigma(x) = \sigma_x
$$\\

In altri casi si può calcolare $u_B(x)$ partendo dalla conoscenza di una \textbf{incertezza estesa} $U_B = k u_B$, conoscendo il fattore di copertura $k$. Dalla definizione di incertezza estesa possiamo quindi ricavare $u_B(x)$ come:
$$
  u_B(x) = \frac{U_B(x)}{k}
$$
Definiamo le componenti delle misure indirette:
\begin{itemize}
  \item \textbf{Misurando}: $Y = f(X_1,X_2,\ldots,X_N)$ ricavato \textbf{indirettamente} dalla conoscenza di N altre grandezze (dette parametri di ingresso)
  \item \textbf{Relazione Funzionale} (o equazione della misura): la funzione $f(X_i)$
  \item Ricordiamo inoltre che $Y$ e $X_i$ sono le variabili, mentre $y$ e $x_i$ i valori delle variabili
\end{itemize}
Naturalmente dalla conoscenza dei valori degli ingressi è possibile ricavare il \textbf{valore dell'uscita}: $y = f(x_i)$.

Saranno invece le \textbf{incertezze degli ingressi}, opportunamente combinate, a fornire l'\textbf{incertezza dell'uscita}:
$$
  u_C(y) = \Phi[u(x_i);f(\cdotp)]
$$
Dati i valori della relazione funzionale, è possibile sviluppare in \textbf{serie di Taylor} al primo ordine la relazone funzionale $f$ in un intorno del valore di misura (o \textbf{punto di lavoro}):
$$
  (y-\bar{y}) \simeq \Bigg(\frac{\delta f}{\delta x_1}\Bigg)_{\bar{y}} (x_1 + \bar{x_1})+\ldots+\Bigg(\frac{\delta f}{\delta x_N}\Bigg)_{\bar{y}} (x_N + \bar{x_N}) 
$$
Definiamo quindi \textbf{coefficienti di sensibilità} le derivate prime parziali della relazione funzionale rispetto alla variabile $x_i$:
$$
  c_i \equiv \Bigg(\frac{\delta f}{\delta x_1}\Bigg)_{\bar{y}}
$$
$c_i$ indica come varia il misurando $Y$ in corrispondenza di una variazione del parametro $X_i$ di dipendenza.
\subparagraph*{Covarianza:} definiamo covarianza (con $i \ne j$):
$$
  E \Bigg[(x_i - \bar{x_i})(x_j - \bar{x_j})\Bigg] \equiv \sigma^2(x_i,x_j) = u (x_i,x_j)
$$

Possiamo quindi scrivere l'espressione dell'incertezza composta al quadrato come:
$$
  u_C^2 = \sum^N_{i = 1}\Bigg(\frac{\delta f}{\delta x_i}\Bigg)^2 u^2(x_i)+2\sum^{N-1}_{i = 1}\sum^{N}_{j = i +1}\Bigg(\frac{\delta f}{\delta x_i}\Bigg)\Bigg(\frac{\delta f}{\delta x_j}\Bigg)u(x_i,x_j)
$$ dove:
$$
  \Bigg(\frac{\delta f}{\delta x_i}\Bigg)^2
$$
è la somma pesata, con pesi $c_i^2$, delle incertezze (varianze) degli ingressi $x_i$ più la somma dei termini di \textit{covarianza}, sempre pesati con le derivate prime della relazione funzionale.

Possiamo affermare a questo punto che il \textbf{valore della misura} della grandezza $Y$ è:
$$
  y = \bar{y} = f(\bar{x_1},\bar{x_2},\ldots,\bar{x_N})
$$ ed ha una \textbf{incertezza composta} che vale:
$$
  u_c(y) = \sqrt{  u_C^2 = \sum^N_{i = 1}c_i^2 u^2(x_i)+2\sum^{N-1}_{i = 1}\sum^{N}_{j = i +1}c_i c_j u(x_i,x_j)}
$$
Sappiamo anche che in generale ciascuna incertezza $u(x_i)$ è:
$$
  u_c(x_i) = \sqrt{u_A^2(x_i)+u_B^2(x_i)} = \sqrt{s^2(\bar{x_i})+u_B^2(x_i)} = \sqrt{\frac{s^2(x_i)}{n}+u_B^2(x_i)}
$$
Per arrivare a semplicifare la formula dell'uncertezza combinata, andiamo a definire i \textbf{coefficienti di correlazione}:
$$
  i_{ij}(x_i,x_j) \equiv \frac{u(x_i,x_j)}{u(x_i)\cdot u(x_j)}~\epsilon [-1;+1]~
$$ definiti come il rapporto tra la covarianza di due variabili e il prodotto delle loro varianze. È importante notare che se $X_i$ e $X_j$ sono variabili aleatorie tali per cui il comportamento di una non influisce sulla variazione dell'altra (cioè sono \textbf{statisticamente indipendenti}), allora il loro coefficiente di correlazione sarà pari a 0.
$$
    r_{ij} = 0~~~~\text{se $X_i$ e $X_j$ sono statisticamente indipendenti}
$$
Nel caso di \textbf{variabili d'ingresso statisticamente indipendenti} tutti i termini di covarianza e i coefficienti i correlazione sono nulli ($r_{ij} = 0$ tra le variabili $x_i$ e $x_j$ con $i \neq j$) e pertanto:
$$
  u_c(y) = \sqrt{\sum^{N}_{i = 1}\Bigg(\frac{\delta f}{\delta x_i}\Bigg)^2 u^2(x_i)}
$$ e quindi:
\begin{equation}
  \label{incertezza composta: formula generale}  
    u^2_c(y) = \sum^{N}_{i = 1}c_i^2 u^2 (x_i)
\end{equation}  
risulta essere una \textit{somma di varianze}.

Nella maggior parte dei casi analizzati riusciremo a dedurre che le variabili d'ingresso sono statisticamente indipendenti, quindi potremo applicare queste ultime due formule.
\subsubsection{Casi Particolari di Relazioni Funzionali}
Nei due seguenti casi abbiamo che le variabili d'ingresso $X_i$ sono statisticamente indipendenti:
\begin{itemize}
  \item Misurando somma o differenza delle $x_i$:
  $$
    \bar{y} = n_1\bar{x_1}\pm\ldots n_i\bar{x_i}\pm\ldots n_N\bar{x_N}
  $$
  $$
    u^2_c(y) = \sum^N_{i = 1}n_i^2 u^2(x_i)
  $$
  Se inoltre $n_i = 1$ per ogni $i$, cioè la relazione funzionale è una somma algebrica semplice:
  $$
    u_c(y) = \sqrt{\sum^N_{i = 1}u^2(x_i)}
  $$
  \item Misurando prodotto o rapporto delle $x_i$:
  $$
    u_{r,c}(y) = \sqrt{\sum^{N}_{i = 1}n_i^2 u_r^2(x_i)}
  $$
    Se inoltre $n_i = 1$ per ogni $i$, cioè la relazione funzionale è espressa da prodotti e rapporti semplici:
    $$
      u_{r,c}^2(y) = \sum^{N}_{i = 1}u_r^2(x_i)
    $$
\end{itemize}


\subsection{Esercizio di Esempio: Legge dei Gas Perfetti}
La relazione funzionale è:
\begin{equation}
  \label{gas perfetti}
  p = n \frac{RT}{V} = f (n,R,T,V)
\end{equation}

dove:
\begin{itemize}
  \item $R = 8.31~\Bigg[\frac{Pa\cdot m^3}{mol\cdot k}\Bigg]$~~~ con $u(R) \simeq 0$ (trascurabile per il nostro problema)
  \item $n = 2~mol$~~~~ con $u_r(n) = 10^{-6}$
  \item $T = 300~K$~~~ con $u(T) = 0.1 K$
  \item $V = 1~m^3$~~~~~ da $V = L^3$ e $L = 1~m\pm 1~mm$
\end{itemize}
Possiamo immediatamente calcolare il \textbf{valore} della misura:
$$
  p = \frac{2~[mol]\cdot 8.31~\Bigg[\frac{Pa\cdot m^3}{mol\cdot k}\Bigg]\cdot 300~[K]}{1~[m^3]} = 4986~Pa \simeq 5~kPa
$$
Per calcolare l'incertezza innanzitutto ci accorgiamo che è necessario calcolare una incertezza composta, con relazione funzionale espressa nella Formula \ref{gas perfetti}. Per calcolare questa quindi necessitiamo di sapere le incertezze di tutte le variabili coinvolte nella relazione funzionale.

L'incertezza di R è trascurabile per ipotesi, quella di n è nota così come quella di T, ma non conosciamo l'incertezza di V. Procediamo quindi a calcolarla: anche questo in un certo senso è il calcolo di un'incertezza composta, con la relazione funzionale $ V = L^3 $, quindi scriviamo:
$$
  u(V) = \sqrt{\Bigg(\frac{\delta V}{\delta L}\Bigg)^2 u^2(L)} = \sqrt{[3~m^2]^2\cdot[10^{-3}~m]^2} = \sqrt{9\times 10^{-6}~m^6} = 3\times 10^{-3}~ m^3
$$
Ora, conoscendo tutte le variabili/grandezze d'ingresso per valore ed incertezza, possiamo calcolare l'incertezza composta della grandezza misurata indirettamente:
\begin{align*}
&u(p) = \sqrt{\Bigg(\frac{\delta p}{\delta n}\Bigg)^2 u^2(n)+\Bigg(\frac{\delta p}{\delta T}\Bigg)^2 u^2(T)+\Bigg(\frac{\delta p}{\delta V}\Bigg)^2 u^2(V)} =\\
&= \sqrt{\Bigg(\frac{RT}{V}\Bigg)^2 u^2(n)+\Bigg(\frac{nR}{V}\Bigg)^2 u^2(T)+\Bigg(\frac{nRT}{-V^2}\Bigg)^2 u^2(V)} =\\
&= \sqrt{\Bigg(\frac{nRT}{V}\Bigg)^2 \frac{u^2(n)}{n^2}+\Bigg(\frac{nRT}{V}\Bigg)^2 \frac{u^2(T)}{T^2}+\Bigg(\frac{nRT}{-V}\Bigg)^2 \frac{u^2(V)}{V^2}}\\
\end{align*}
Dall'ultima espressione possiamo concludere che:
\begin{equation}
\label{formula incertezza composta}
  u_r(p) = \sqrt{u_r^2(n)+u_r^2(T)+u_r^2(V)}
\end{equation}
Questa sarà quindi la formula da usare non solo in questo caso, ma anche in tutti gli altri casi simili a questo!

\subparagraph*{Nota} in generale possiamo affermare che, avendo una relazione funzionale del tipo
$$
  p = \frac{nRT}{V} = n^1 R^1 T^1 V^{-1}
$$
Nel caso di variabili aleatorie statisticamente indipendenti, avremo:
$$
  u_r(p) = \sqrt{(1)^2u_r^2(n)+(1)^2u_r^2(T)+(-1)^2u_r^2(V)}
$$ e quindi otteniamo la \ref{formula incertezza composta}.

Ma se in un qualche caso avessimo esponenti diversi da $\pm 1$, come ad esempio:
$$
  p = \frac{n^2 R T^4}{V^3} = n^2 R^1 T^4 V^{-3}  
$$
la formula per il calcolo dell'incertezza relativa sarà:
$$
  u_r(p) = \sqrt{(2)^2u_r^2(n)+(4)^2u_r^2(T)+(-3)^2u_r^2(V)}
$$ e quindi
$$
  u_r(p) = \sqrt{4u_r^2(n)+16u_r^2(T)+9u_r^2(V)}  
$$
\paragraph{Per concludere:}
\begin{itemize}
  \item $u_r^2(n) = 10^{-12}$
  \item $u_r^2(T) = \frac{(0.1~K)^2}{(300~K)^2} \simeq 1.1\times 10^{-7}$
  \item $u_r^2(V) = \frac{3\times 10^{-3}~ m^3)^2}{(1~m^3)^2} \simeq 9\times 10^{-6}$
\end{itemize}
e quindi:
\begin{equation}
  \label{calcolo p}
  u_r(p) = \sqrt{10^{-6}(10^{-6}+0.11+9)} \simeq 3\times 10^{-3}
\end{equation}
e inoltre:
$$
  u(p) = u_r(p)\times p = 14.9~ Pa \simeq 15~Pa
$$
Possiamo in conclusione esprimere la misura completa della sua incertezza nelle due notazioni:
$$
  p = 4986~ Pa\pm 15~ Pa = 4986(15)~ Pa
$$
\subparagraph{Nota} come possiamo notare dalla Formula \ref{calcolo p} e dalla \ref{formula incertezza composta}, l'incertezza relativa di $p$ risulta essere pressochè identica all'incertezza relativa di $V$. Questo perché $u_r(V)^2$ è il termine predominante sotto la radice. Avremo \textbf{sempre}, quindi, che se un termine particolare è superiore agli altri di almeno un fattore 5, esso risulterà come termine dominante e l'incertezza relativa risultante protrà essere approssimata ad esso.

\subsection{Esercizio di Esempio: Circuito Elettrico}
Calcolo dell'incertezza composta in una misura indiretta su un circuito elettrico. Dato il circuito come in Figura:
\begin{figure}[H]
  \begin{center}
    \begin{circuitikz}
      \draw (0,0)
      to[V,v=$V_G$] (0,2) % The voltage source
      to[R=$R_G$] (0,4) % The resistenza
      to[short] (4,4)
      to[R=$R_1$] (4,2) % The resistor
      to[R=$R_2$] (4,0) % The resistor
      to[short] (0,0);
    \end{circuitikz}
    \caption{Il circuito in esame.}
  \end{center}
\end{figure}
Vogliamo calcolare il valore di resistenza del resistore $R_2$ conoscendo $V_G$, $R_G$ ed $R_1$, nello specifico:
\begin{itemize}
  \item $V_G$ = 12 $V$ e $U_G(V_G) = 10~mV$ con $k = 2$
  \item $R_G$ è nota attraverso 10 letture ripetute $R_{G,k}$:
      \begin{itemize}
        \item $\bar{R_G}$ = 50 $\Omega$
        \item $s(R_{G,k}) = 12.65~\Omega$
      \end{itemize}
  \item $R_1$ = 1 $k\Omega\pm 5\Omega$
  \item $V = 7.77$ $V$ letta con un voltmetro a $3\frac{1}{2}$ cifre, con $\pm$ 19.99 $V$ di dinamica e "ideale" (solo errore di quantizzazione).
\end{itemize}
L'esercizio richiede di:
\begin{enumerate}
  \item Calcolare l'incertezza assoluta e relativa di tutti i parametri coinvolti nella misura
  \item Calcolare $R_2$, la sua incertezza e la sua incertezza relativa ($u(R_2)$ e $u_r(R_2)$)
  \item Quali parametri e quali sono trascurabili per il calcolo di $u(R_2)$
\end{enumerate}
Come intuiamo dal testo dell'esercizio, si tratta di calcolare una incertezza composta. Troviamo quindi la \textbf{relazione funzionale} che ci permette di calcolare $R_2$
\begin{align*}
  &I = \frac{V_G}{R_G+R_1+R_2} = \frac{V}{R_2}\\
  &R_2\cdot V_G = (R_G+R_1+R_2)\cdot V\\
  &R_2(V-g-V) = (R_G+R_1)\cdot V \\ \\
  &R_2 = \frac{V}{(V_G-V)(R_G+R_1)} = f(V_G,V,R_G,R_1)
\end{align*}
Una volta identificata la relazione funzionale, possiamo usare la formula \ref{incertezza composta: formula generale} (eventualmente modificata al caso particolare di variabili statisticamente indipendenti) per calcolare l'incertezza composta di $R_2$. Ci accorgiamo però che dobbiamo prima calcolare le incertezze assolute e relative di tutti i parametri coinvolti nella misura, rispondendo al punto 1 dell'esercizio.

Per $V_G$
\begin{align*}
  &u(V_G) = \frac{U(V_G)}{k} = 5\times 10^{-3}~V \\
  &u_r(V_G) = \frac{u(V_G)}{V_G} = \frac{5\times 10^{-3}~V}{12~V} = 4.2\times 10^{-4}\\
\end{align*}

Mentre per V (misurata come da testo dell'esercizio) calcoliamo un'incertezza standard di categoria B assumendo una distribuzione dei valori di misura di tipo \textbf{uniforme}:
\footnotemark[1]\footnotetext[1]{Assumiamo la distribuzione uniforme perché (a parole semplici) con il voltmetro descritto posso leggere 7.77, il valore prima e il valore dopo saranno 7.76 e 7.78. I valori di misura sono quindi distribuiti uniformemente nell'intervallo $(7.765;7.775)$. Abbiamo che il $\Delta V$ minimo (la risoluzione dello strumento) è 10 mV.}
\begin{align*}
  &u(V) = \frac{\delta V}{\sqrt{12}} = \frac{0.01~V}{\sqrt{12}} = 2.9\times 10^{-3}~V\\
  &u_r(V) = \frac{u(V)}{V} = \frac{2.9\times 10^{-3}~V}{7.77~V} = 3.7\times 10^{-4}\\
\end{align*}
Per $R_1$
\begin{align*}
  &u(R_1) = 5~\Omega \\
  &u_r(R_1) = \frac{u(R_1)}{R_1} = \frac{5~\Omega}{1000~\Omega} = 5\times 10^{-3}
\end{align*}
Per $R_G$
\begin{align*}
  &u(R_G) = u(\bar{R_G}) = \frac{s(R_{G,k})}{\sqrt{n}} = \frac{12.65~\Omega}{\sqrt{10}} = 4~\Omega \\
  &u_r(R_G) = \frac{u(R_G)}{R_G} = \frac{4~\Omega}{50~\Omega} = 8\times 10^{-2}
\end{align*}
Abbiamo quindi calcolato tutte le incertezze assolute e relative delle variabili coinvolte nella misura, rispondendo al punto 1 dell'eserzio. Procediamo ora col punto 2:

\textcolor{red}{Esercizio non fatto oggi a lezione lo faremo ok}
\section{Compatibilità tra Due Misure}
Si dice che due misure sono compatibili se la loro distanza è "abbastanza piccola" rispetto alla combinazione delle due incertezze. Dobbiamo esprimere con formule il fatto che la distanza tra la misura $x_1$ e la $x_2$ sia abbastanza piccola:
$$
  d = |x_1-x_2| \le k \sqrt{u^2(x_1)+u^2(x_2)-2r_{12}u(x_1)u(x_2)}
$$
È quindi necessario che la distanza tra i due risultati sia minore o uguale alla "combinazione" delle incertezze associate alle due misure.
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=16cm,
        height=4cm,
        keepaspectratio,
    ]{images/esempioCompatibilita.png}
    \caption{Tre esempi di misure compatibili/incompatibili}
    \label{compatibilita:esempio}
  \end{center}
\end{figure}

Tra più misure compatibili è possibile calcolare una \textbf{media pesata}: nel caso di $N$ risultati di misura compatibili, indipendenti e normalmente distribuiti, la miglior stima della misura è:
\begin{equation}
  \label{media pesata misure compatibili}  
    x = \bar{x}_{IMP} = \frac{\sum^N_{i=1}w_i x_i}{\sum^N_{i=1}w_i} = \frac{\sum^N_{i=1}\frac{x_i}{u^2(x_i)}}{\sum^N_{i=1}\frac{1}{u^2(x_i)}}
\end{equation}
Dove i pesi $w_i = \frac{1}{u^2(x_i)}$ sono i \textbf{reciproci delle varianze} stimate e dunque indicano il grado di confidenza che abbiamo sugli $x_i$. Se $u(x_i)$ è sufficientemente "basso" abbiamo una misura "credibile".

A questo punto possiamo calcolare anche \textbf{l'incertezza della media pesata} come:
\begin{equation}
  \label{incertezza media pesata misure compatibili}
    u^2(\bar{x_IMP}) = \frac{1}{\sum^n_{i=1}w_i} = \frac{1}{\sum^n_{i=1}\frac{1}{u^2(x_i)}}
\end{equation}
\subsection{Gradi di Libertà per Incertezza di Categoria B}
Ricordiamo che ogni stima di incertezza è \textbf{a sua volta incerta} e la bontà di questa stima è esprimibile attraverso il numero di gradi di libertà ($v_a$ = n-1 per l'incertezza di categoria A).
Anche nel caso di incertezza di categoria B si può \textbf{stimare}, non calcolare secondo una formula predeterminata, il numero $\nu_b$ di gradi di libertà della stima dell'incertezza (ricordando che è sempre meglio sottostimare $\nu_b$ piuttosto che sovrastimarlo).

Per l'incertezza di categoria B si può avere nel caso migliore (\textit{e.g} incertezza di quantizzazione) $\nu_b = \infty$ e nel caso più conservativo (\textit{worst case} $\nu_b = 1$).
Il numero di gradi di libertà $\nu_b$ deve essere stimato sulla base di quanto "si crede" alla stima di $u_B$, com'è anche vero per l'incertezza di categoria A.

\subsubsection{Significato del Numero di gradi di Libertà}
Consideriamo un campione di $n$ dati. Di questo campione si possono stimare la varianza e la deviazione standard del valor medio (ossia l'incertezza della misura). Però, operando su un campione casuale, anche la stima della varianza è un numero casuale che presenta una potenziale \textbf{dispersione}. Il numero di gradi di libertà è un indicatore della possibile variabilità della nostra stima dell'incertezza.

Questo è vero perché si può dimostrare che:
$$
  \sigma^2[s(\bar{x})] = \frac{\sigma^2(\bar{x})}{2\nu}
$$
e quindi:
$$
  INC(INC) = \sigma[u(x)] \simeq \frac{u(x)}{\sqrt{2\nu}}
$$
Si vede quindi che all'aumentare dei gradi di libertà l'incertezza dell'incertezza diminuisce.

Ovviamente anche di questa possiamo calcolare l'incertezza relativa:
$$
  u_r(u(x)) = \frac{\sigma[u(x)]}{u(x)} \simeq \frac{1}{\sqrt{2\nu}}
$$

\subsubsection{Gradi di Libertà e Cifre Significative per l'Incertezza}
Calcolato il nostro $\nu$ possiamo anche parlare di $\nu^{-1}$:
$$
  \nu^{-1} = \frac{2\sigma^2[u(x)]}{u^2(x)} = 2 u_r^2[u(x)]
$$
che è un indice dell'incertezza dell'incertezza. $\nu$ e $\nu^{-1}$ possono darci un'idea del numero di misure necessarie al fine di avere un espressione dell'incertezza con diverse cifre significative, ad esempio, con $u_r(u(x)) = 0.7\sqrt{\nu} \simeq \sqrt{\nu}$:
\begin{itemize}
  \item $u_r(u(x)) = 10^{-1}$ abbiamo $\nu \simeq 100$ e la cifra significativa per l'incertezza sarà 1
  \item $u_r(u(x)) = 10^{-2}$ abbiamo $\nu \simeq 10000$ e le cifre significative per l'incertezza saranno 2
  \item $u_r(u(x)) = 10^{-3}$ abbiamo $\nu \simeq 1000000$ e le cifre significative per l'incertezza sarnno 3 
\end{itemize}
Questo ci suggerisce che (tranne per casi particolar\textit{issmi}) è sempre inutile cercare di esprimere l'incertezza con 3 (o più) cifre significative. Sia perché si dovrebbero prendere un milione di misure, sia perché molto spesso gli altri dati con cui abbiamo a che fare nel corso delle misurazioni/nel corso dei calcoli non sono conosciuti \textit{così} bene.

\subsection{Esercizio su Compatibilità e Media Pesata}
Due differenti misure della stessa potenza a radiofrequenza, emessa da un telefono cellulare, vengono effettuate con strumenti diversi e in maniera del tutto \textbf{indipendente}.
\begin{itemize}
  \item La prima misura è analogica ("senza limiti di risoluzione") ed è ricavata de letture ripetute ($n=5$) del misurando, che hanno fornito i valori:
  $$
    P_{1,1} = 3.4~W~~~P_{1,2} = 3.2~W~~~P_{1,3} = 3~W~~~P_{1,4} = 2.8~W~~~P_{1,5} = 2.6~W 
  $$
  \item La seconda misura è digitale, effettuata con un wattmetro ideale a 100 livelli e portata $20~W$, e ha fornito una lettura $P_2 = 3.2~W$
\end{itemize}
L'esercizio richiede di:
\begin{enumerate}
  \item Calcolare i due valori di misura, $P_1$ e $P_2$, e le corrispondenti incertezze standard.
  \item Valutare la compatibilità tra i due risultati di misura, in particolar modo per fattori di copertura $k$ pari ad 1,2 e 3.
  \item Ricavare la miglior stima per il valore della potenza $P$ misurata e la sua incertezza standard $u(P)$.
\end{enumerate}
Per il \textbf{primo punto} il calcolo di valore ed incertezza per $P_1$ è il classico calcolo "a macchinetta" di un'incertezza standard di categoria A: 
\begin{itemize}
  \item $P_1 = \bar{P_1} = \bar{P}_{1,i} = 3~W$\\ricavato come media campionaria: $\bar{P_1} = \frac{1}{n}\sum^n_{i=1}P_{1,i}$
  \item $u(P_1)$ calcolata con la Formula: \ref{inc.cat.A} e $\simeq0.14~W$
\end{itemize}
Mentre il calcolo di valore ed incertezza di $P_2$ è il calcolo di un'incertezza di categoria B. Infatti $P_2 = 3.2~W$ da una misura digitale con risoluzione $\Delta P_2 = \frac{20~W}{100~\text{livelli}} = 0.2~W$ (passo di quantizzazione).

L'incertezza di $P_2$ invece è:
$$
  u(P_2) = \frac{\Delta P_2}{\sqrt{12}} \simeq 0.058~W \simeq 0.06~W\text{~~(incertezza di quantizzazione)}
$$
\\
Per il punto \textbf{2.} per verificare la compatibilità tra le due misure si deve valutare la disuguaglianza
$$
  |P_1 - P_2| \le k \sqrt{u^2(P_1)+u^2(P_2)}
$$
con k fattore di copertura. Notiamo che il termine di covarianza non compare essendo per ipotesi le due misure statisticamente indipendenti.

Sostituendo i valori numerici si ha:
$$
  0.2~W \le k\sqrt{0.0232~W^2} \simeq k\cdot0.1523~W \Rightarrow k \ge \frac{0.2}{0.1523} = 1.313
$$

Pertanto, le due misure \textbf{sono compatibili} con $k=2$ e ovviamente anche con $k=3$, \textbf{ma non} sono compatibili con $k=1$.
\subparagraph{Nota} Disponendo di due misure $m_1\pm u(m_1)$ e $m_2\pm u(m_2)$ \textbf{poste a distanza} $d = m_1 - m_2$ \textbf{non} si può avere compatibilità:
\begin{itemize}
  \item per $k=1$ se [$u(m_1)+u(m_2) < d$]
  \item per $k=2$ se [$u(m_1)+u(m_2) < \frac{d}{2}$]
  \item per $k=3$ se [$u(m_1)+u(m_2) < \frac{d}{3}$]
\end{itemize}
Cioè se la somma di due incertezze è inferiore alla distanza tra le due misure (eventualmente divisa per $k$), allora non si può avere compatibilità (eventualmente con un fattore di copertura $k$). Inoltre, quando in generale si nota che svolgendo i calcoli con $k = 1$ la somma delle incertezze non copre la distanza tra le misure "\textit{di molto}", allora non lo farà neanche per $k=2$ e $k=3$, quindi le misure resteranno incompatibili per questi fattori.
\\

Venendo al punto \textbf{3.} ritenendo accettabile la condizione di compatibilità con $k=2$, possiamo calcolare la miglior stima della potenza $P$ misurata, ricorrendo al criterio delle \textbf{media pesata tra misure compatibili} (Formula \ref{media pesata misure compatibili}) ottenendo un valore $P_{MP} \simeq 3.169~W$. Osserviamo che $P_{MP}$ è più vicino a $P_2$ che non a $P_1$ perché $u(P_2)<u(P_1)$.

Calcoliamo anche l'\textbf{incertezza della media pesata} (Formula: \ref{incertezza media pesata misure compatibili}):
$$
  u(P_{MP}) = \sqrt{\frac{1}{\frac{1}{u^2(P_1)}+\frac{1}{u^2(P_2)}}} = \sqrt{\frac{1}{329~W^{-2}}} \simeq 0.055~W
$$
osservando che $u(p_{MP})$ è inferiore alle incertezze delle due misure mediate.

In conclusione possiamo dire che $P = 3.169(55)~W$ o anche $P=3.17(6)~W$ è il \textbf{risultato della misura}.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Rappresentazione Grafica dei Risultati Sperimentali - Interpolazione e Curve di Regressione}
\section{Rappresentazione Grafica dei Risultati Sperimentali}
La rappresentazione grafica si effettua per ottenere una "visione d'insieme" di una grandezza, in funzione del tempo (o di un altro parametro). Si utilizzano tipicamente assi coortinati che devono riportare la descrizione della grandezza rappresentata e all'occorrenza \textbf{anche la sua unità di misura}.
Si distinguono infatti due tipi di grafici:
\begin{itemize}
  \item Grafici \textbf{quantitativi}: grafici in cui sugli assi compaiono dei valori numerici, dei quali bisogna sempre indicare l'unità di misura corrispondente.
  \item Grafici \textbf{qualitativi}: i grafici che non sono quantitativi si dicono qualitativi, e sono spesso usati per indicare degli andamenti o delle tendenze.
\end{itemize}
\paragraph{Grafico in un piano cartesiano}~\\
Come già si dovrebbe sapere, il grafico in un piano cartesiano è composto da due assi, uno per le \textit{ascisse} e uno per le \textit{ordinate}. Sull'asse delle \textit{ascisse} (asse X) ci sarà la variabile \textbf{indipendente}, anche detta "comando d'ingresso". Sull'asse delle \textit{ordinate} (asse Y) ci sarà invece la variabile \textbf{dipendente}, anche detta "grandezza d'uscita".

Va notato che tipicamente avremo $u(x_i) << u(y_i)$, ossia la variabile di comando è nota con buona precisione (diremo che ha incertezza trascurabile), mentre la variabile di uscita presenta una maggiore incertezza, che andrà rappresentata su grafico tramite delle \textit{\textbf{barre d'errore}}. Possiamo vedere un esempio di queste barre d'errore nella Figura: \ref{rappresentazione:barrerrore}, nella quale le barre indicano un intervallo di confidenza, che va specificato: ad esempio scriveremo in aggiunta al grafico che esse rappresentano un intervallo di confidenza del $\pm 1 \sigma$ (68\%).
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=16cm,
        height=7cm,
        keepaspectratio,
    ]{images/esempioBarreErrore.png}
    \caption{Caratteristica ingresso-uscita di un amplificatore elettronico.}
    \label{rappresentazione:barrerrore}
  \end{center}
\end{figure}
\paragraph{Grafico in un Diagramma Polare}~\\
In alternativa ai diagrammi cartesiani, per alcuni casi si usano i diagrammi polari, in cui abbiamo sempre due coordinate, ma sono una radiale e l'altra angolare.
\begin{itemize}
  \item Coordinata radiale: $\rho = \sqrt{(x^2+y^2)} $
  \item Coordinata angolare: $\theta = \arctan(\frac{y}{x})~~per~~x\ge 0$
\end{itemize}
Quindi avremo:
\begin{itemize}
  \item $x = \rho \cos(\theta) $
  \item $y = \rho \sin(\theta) $
\end{itemize}
Nella Figura \ref{rappresentazione:diagrammaPolare} possiamo vedere un esempio in cui viene utile utilizzare un diagramma polare per la rappresentazione dei dati. Il diagramma mostra la direttività di un altoparlante e si può facilmente vedere come, immaginando che l'altoparlante si trovi all'origine degli assi diretto "verso l'alto" (verso la direzione delle $y$ crescenti) se ci si posiziona \textbf{dietro} di esso (cioè nella parte negativa dell'asse $y$) il suono viene propagato molto poco e per direzioni ridotte, mentre viene ben amplificato e propagato nella parte positiva dell'asse $y$.
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=16cm,
        height=7cm,
        keepaspectratio,
    ]{images/diagrammaPolare.png}
    \caption{Un esempio di diagramma polare.}
    \label{rappresentazione:diagrammaPolare}
  \end{center}
\end{figure}
\paragraph{Grafico in scala semilogaritmica}~\\
Come già studiato nella Sezione \ref{sezione:unitaLog}, le unità logaritmiche sono utili per visualizzare grandezze che variano di diversi ordini di grandezza, con dettaglio relativo costante, cioè punti equispaziati in scala logaritmica stanno in uno \textbf{stesso rapporto} in scala lineare.

I diagrammi \textit{semi}logaritmici sono tali perché hanno uno degli assi in scala logaritmica, mentre l'altro in scala lineare. In Figura \ref{diagrammi:semilogy} possiamo vedere un diagramma "\textit{semilog-}$y$" per la curva I-V di un diodo a semiconduttore in polarizzazione diretta: $I = I_0 e^{(\frac{V}{V_T})}$
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=8cm,
        height=7cm,
        keepaspectratio,
    ]{images/semilog.png}
    \caption{Un esempio di diagramma semilogaritmico.}
    \label{diagrammi:semilogy}
  \end{center}
\end{figure}
Un ulteriore esempio di diagramma semilogaritmico è un diagramma di Bode della fase\footnotemark[1]\footnotetext[1]{I diagrammi di Bode della fase e del Modulo verranno trattati approfonditamente nel corso di Automatica.}, mostrato in figura \ref{diagrammi:BodeFase}, che rappresenta lo sfasamento in gradi (o radianti) sull'asse verticale in funzione della frequenza riportata in scala logaritmica sull'asse orizzontale (dato che spesso per le componenti analizzate in questi diagrammi si ha un'ampia dinamica di frequenza).
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=8cm,
        height=7cm,
        keepaspectratio,
    ]{images/bodeFase.png}
    \caption{Un esempio di diagramma di Bode della Fase.}
    \label{diagrammi:BodeFase}
  \end{center}
\end{figure}
\paragraph{Grafico in scala semilogaritmica}~\\
Quando si ha necessità di rappresentare ampie dinamiche di funzione per entrambe le variabili di controllo e controllata, si può ricorrere all'uso di diagrammi "interamente" logaritmici (\textit{log-log}). Come per esempio viene fatto nel diagramma di Bode del Modulo\footnotemark[1] per rappresentare l'ampiezza o guadagno in dB in funzione della frequenza riportata in scala logaritmica (vedi Figura \ref{diagrammi:BodeModulo}).
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=8cm,
        height=7cm,
        keepaspectratio,
    ]{images/bodeModulo.png}
    \caption{Un esempio di diagramma di Bode della Fase.}
    \label{diagrammi:BodeModulo}
  \end{center}
\end{figure}
\paragraph{Osservazione sulle misure}~\\
Da una rapida analisi dei logaritmi per la prima decade:
\begin{align*}
&log_{10}(1)~~ = ~0\\
&log_{10}(2)~~ \simeq~ 0.3\\
&log_{10}(5)~~ \simeq~ 0.6\\
&log_{10}(10)~ =~ 1
\end{align*}
possiamo notare che anche per tutte le altre decadi vale questo (ovviamente a meno degli opportuni fattori moltiplicativi).

Quindi, per prendere misure sensate per ricostruire la curva senza occupare troppo tempo/effetturare troppe misurazioni conviene prendere 4 misure per ogni decade, cioè \textbf{una ogni terzo}. In questo modo con 19 misurazioni si ha un'escursione di 6 decadi (da 0 fino a $10^5$). 
\section{Interpolazione e Regressione}
\subsection{Interpolazione}
\label{interpolazione}
Essendo una misura un insieme finto e discreto di valori sperimetali, quando andiamo a rappresentarla su un grafico avremo una disposizione di questi punti sperimentali \textbf{discreta} (non continua). Sarebbe quindi utile e interessante andare a "riempire" lo spazio tra due punti sperimentali adiacenti. Questa operazione di "riempimento" prende il nome di \textbf{interpolazione}, ed è effettuata tramite una \textbf{funzione interpolante}.

Una funzione interpolante è una funzione continua che, passando per i due punti in questione, ci fornisce l'andamento presunto (interpolato) della relazione ingresso-uscita.

Esistono diversi metodi di interpolazione che sono percorribili a seconda di potenza di calcolo e tempo a disposizione.
\paragraph{Interpolazione lineare}~\\
È la più semplice interpolazione possibile: consiste nel congiungere i punti con una spezzata (un insieme dei segmenti di rette che passano per due punti adiacenti).

La funzione interpolante in questo caso è definita come una funzione che è nulla per tutti i punti appartenenti all'asse $x$ tranne che per i punti dell'intervallo $[-1;1]$.
\begin{center}
  E QUA METTICI LA FUNZIONE INTERPOLANTE LINEARE
\end{center}
L'interpolazione si effettua \textbf{sovrapponendo} (moltiplicandola) questa funzione ad ogni punto sperimentale e mediando i segmenti di retta ottenuti per ogni intervallo di punti.

Come si può vedere dalla figura \ref{interpolazione:lineare}, questo metodo non consente una buona ricostruzione del segnale, perché non sfrutta l'informazione contenuta in \textit{tutti} i punti, ma solo quella dei due adiacenti che vengono uniti. Se per esempio seguissimo alla lettera il \textbf{teorema di Shannon} per il campionamento:
\begin{center}
\begin{quote}
Per campionare correttamente (senza perdita di informazioni) un segnale a banda limitata, è sufficiente campionarlo con una frequenza di campionamento pari almeno al doppio della massima frequenza del segnale.
\begin{equation}
  \label{shannon}
  f_{campionamento} \ge 2f_{max}  
\end{equation}
\end{quote}
\end{center}
\begin{figure}
  \begin{center}
    \includegraphics[
        width=8cm,
        height=7cm,
        keepaspectratio,
    ]{images/interpolazioneLineare.png}
    \caption{Un esempio di interpolazione lineare per il campionamento di una sinusoide.}
    \label{interpolazione:lineare}
  \end{center}
\end{figure}
ponendo quindi:
$$
  f_{campionamento} = 2f_{max}
$$
otterremmo un insieme di punti che stanno su una retta parallela all'asse delle ascisse (sul valore $y$ di metà ampiezza del segnale campionato) e, applicando l'interpolazione lineare, andremmo a ricostruire tale retta. Siccome abbiamo campionato una sinusoide, è evidente che l'interpolazione lineare, in questo caso, è stata inefficace. Come vedremo, in questo caso limte è necessaria l'interpolazione \textit{a seno cardinale}.
\paragraph{Interpolazione polinomiale cubica}~\\
Questo tipo di interpolazione è quello usato da tool come MatLab e Excel per effettuare l'interpolazione. Ricostruisce una curva che passa per i punti sperimentali, mantenendo continue la derivata prima e seconda. Ha quindi l'effetto visivo di una "linea smussata".

La funzione interpolante in questo caso è definita come una funzione che è nulla per tutti i punti appartenenti all'asse $x$ tranne che per i punti dell'intervallo $[-k;k]$ con $k\ \epsilon\ \mathbb{N},\ k  > 1$.
\begin{center}
  E QUA METTICI LA FUNZIONE INTERPOLANTE CUBICA
\end{center}
\paragraph{Interpolazione a seno cardinale}~\\
È il tipo di interpolazione ideale per la ricostruzione di segnali campionati nel tempo. La funzione interpolante è fatta come in Figura \ref{interpolazione:interpolante:seno} ed è possibile ricavarla matematicamente dall'operazione di filtraggio passa-basso ideale del segnale campionato. Nel dominio del tempo consiste in una convoluzione del segnale campionato con la funzione $sinc(\pi x) = \frac{\sin(\pi x)}{\pi x}$, che è continua e non si annulla mai.
\begin{figure}
  \begin{center}
    \includegraphics[
        width=8cm,
        height=7cm,
        keepaspectratio,
    ]{images/interpolanteSeno.png}
    \caption{La funzione interpolante a seno cardinale.}
    \label{interpolazione:interpolante:seno}
  \end{center}
\end{figure}
\paragraph{Esempio di ricostruzione di un segnale mediante interpolatore}~\\
In Figura \ref{interpolazione:esempio} possiamo vedere due esempi di interpolazione: una a seno cardinale e una lineare. La differenza che si nota è sostanziale.
\begin{figure}
  \begin{center}
    \includegraphics[
        width=8cm,
        height=7cm,
        keepaspectratio,
    ]{images/interpolazioneEsempio.png}
    \caption{Un esempio di interpolazione sia a seno cardinale sia lineare.}
    \label{interpolazione:esempio}
  \end{center}
\end{figure}
Una caratteristica da notare nell'interpolazione a seno cardinale e che si nota dalla Figura \ref{interpolazione:esempio} è la "precisione" dell'interpolazione che diminuisce in prossimità degli estremi dell'intervallo di campionamento, mentre vicino al centro dell'intervallo è molto più "fedele". Questo è dovuto al fatto che tale metodo di interpolazione sfrutta, per determinare un tratto di curva tra due punti sperimentali, l'informazione di tutti gli altri punti sperimentali. In prossimità degli estremi, è quindi impossibile avere informazioni sulle parti "a destra" e "a sinistra", perché non sono state campionate.
\subsection{Regressione}

Un diagramma sperimentale, ottenuto da risultati di misura, spesso mostra una dipendenza $y = f(x)$ che appare ragionevolmente approssimabile con una \textbf{funzione nota}. Nei casi in cui questo non accade, è possibile che conosciamo già questa funzione da un'analisi teorica del fenomeno in studio ma, se la dispersione dei dati è talmente grande che non riusciamo a definire con sufficiente affidabilità i \textbf{valori dei parametri del modello}, tramite la \textbf{regressione} è possibile ricavare questi valori (parametri caratteristici del fenomeno misurato) da una misura/osservazione di punti.

\subsubsection{Regressione ai Minimi Quadrati}
Consideriamo una generica dipendenza di una variabile fisica $y$ da un'altra variabile $x$, attraverso una funzione $f$ con più parametri $A,B,\ldots$:
$$
  y = f(A,B,\ldots,x)
$$
Effettuiamo quindi $n$ misure $y_i$ della variabile $y$ in funzione della variabile $x$ osservata nei punti $x_i$. Per \textbf{stimare i parametri} che meglio rappresentano la realtà misurata definiamo una \textbf{funzione "distanza"} tra la misura e la funzione $f$. Il nostro obiettivo sarà quindi quello di \textbf{minimizzare tale distanza}. Esistono diverse funzioni "distanza", quella più comunemente usata è la somma degli \textbf{scarti quadratici} tra $f$ e il valore misurato.
Lo scarto è definito come:
\begin{equation}
  \label{regressione:scarto quadratico}  
    \delta_i = y_i - f(x_i)
\end{equation}
e la funzione "distanza" da minimizzare è:
\begin{equation}
  \label{regressione:funzione quadratica}  
    \Phi = \sum^n_{i=1}\delta_i^2
\end{equation}

\subsubsection{Regressione Lineare}
Un importante caso di regressione, semplice da risolvere analiticamente, è quello della regressione \textbf{lineare}. Consideriamo una dipendenza lineare $y = m\cdot x+b$ di cui si vogliono ricavare i due parametri $m$ e $b$. Per il punto $i$-esimo di misura, lo scarto $\delta_i$ tra il valore empirico $y_i$ e quello della curva di regressione $f(x_i)$ vale:
\begin{equation}
  \label{regressione:scarto lineare} 
  \delta_i = y_i - [m\cdot x_i + b]
\end{equation}
e dobbiamo trovare i \textbf{valori dei parametri} $m$ e $b$ per i quali è \textbf{minima la "distanza"}:
\begin{equation}
  \label{regressione:funzione lineare}  
    \Phi = \sum^n_{i=1}\delta_i^2 = \sum^n_{i=1}[y_i - (m\cdot x+b)]^2
\end{equation}

Per \textbf{trovare il minimo di} $\Phi$, annulliamo le due derivate prime parziali rispetto a $m$ e $b$:
\begin{align*}
  &\frac{\delta \Phi}{\delta m} = 0 \Rightarrow  m\cdot \sum x_i^2 + b \sum x_i = \sum x_i y_i \\
  &\frac{\delta \Phi}{\delta b} = 0 \Rightarrow  m\cdot \sum x_i^2 + nb= \sum y_i
\end{align*}
dove tutte le sommatorie sono ovviamente estese per $i$ che va da 1 a $n$. Si è ottenuto a questo punto un \textbf{sistema lineare} di due equazioni in due incognite ($m$ e $b$) che come sappiamo è risolvibile.

La soluzione del sistema (che si ottiene facilmente per sostituzione) è:
\begin{align*}
  &m = \frac{n\sum x_i y_i -\sum x_i - \sum y_i}{n\sum x_i^2 - (\sum x_i)^2}\\ \\
  &b = \frac{\sum x_i^2 \sum y_i -\sum x_i \sum x_i y_i}{n\sum x_i^2 - (\sum x_i)^2} = \frac{\sum y_i - m \sum x_i}{n} = \bar{y} - m \bar{x}
\end{align*}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{ADC e DAC}
\section{A cosa servono ADC e DAC?}
Gli ADC consentono di fare misure di frandezze fisiche fornendo il valore misurato in formato numerico ........
\section{Convertitore D/A (Digitale/Analogico)}
In ingresso abbiamo $n$ "fili" (\textbf{linee digitali}) che rappresentano $n$ bit, mentre in uscita abbiamo un "filo" (\textbf{linea analogica}) dove ci sarà la tensione $v_{out}$, che sarà \textit{quantizzata}. Diremo che il convertitore D/A avrà $N$ livelli dove $N = 2^n$.
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=8cm,
        height=7cm,
        keepaspectratio,
    ]{images/convDA.png}
    \caption{Uno schema generale di un convertitore D/A.}
    \label{convDA}
  \end{center}
\end{figure}
\section{Convertitore A/D (Analogico/Digitale)}
In ingresso a questo convertitore abbiamo un "filo" sul quale troviamo la tensione analogica d'ingresso (\textbf{range} o dinamica), mentre in uscita troviamo $n$ bit (o $N$ livelli) che rappresentano il valore numerico della tensione in ingresso.

Un parametro fondamentale di un convertitore D/A è la \textbf{velocità di campionamento (\textit{sampling})}, misurata in \textit{Hertz} [$Hz$], con la quale il componente è in grado di convertire la tensione di ingresso rappresentandola sull'uscita.

Scopriremo che velocità e numero di bit sono in una condizione di \textit{trade-off}, ossia sono parametri "contrastanti": aumentandone uno dobbiamo necessariamente diminuire l'altro.

\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=8cm,
        height=7cm,
        keepaspectratio,
    ]{images/convAD.png}
    \caption{Uno schema generale di un convertitore A/D.}
    \label{convAD}
  \end{center}
\end{figure}
\subsection{Voltmetro o Convertitore A/D}
È uno strumento che riceve in ingresso una tensione analogica e la "digitalizza" \textbf{discretizzando} prima nel dominio del \textbf{tempo} e poi nel dominio dell'\textbf{ampiezza}. Abbiamo due discretizzazioni diverse perché il segnale in ingresso è analogico "in due sue dimensioni": tempo e ampiezza.

In particolare, la \textbf{quantizzazione} nel dominio del tempo avviene con risoluzione $T_{Sa} = \frac{1}{f_{Sa}}$ [$s$]. Dove $T_{Sa}$ è detto \textbf{periodo di campionamento} e $f_{Sa}$ \textbf{frequenza di campionamento}.
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=8cm,
        height=7cm,
        keepaspectratio,
    ]{images/ADC.png}
    \caption{Uno schema generale di un Voltmetro.}
    \label{voltmetro}
  \end{center}
\end{figure}

Dalla Figura \ref{voltmetro} possiamo vedere i due componenti che realizzano le due diverse discretizzazioni. Il primo, che discretizza nel dominio del tempo, è un \textbf{campionatore S\&H} (Sample \& Hold) il quale nome suggerisce il funzionamento: campiona la tensione in ingresso e la \textbf{mantiene} per un certo intervallo di tempo, dando al prossimo componente tempo per la conversione. Il secondo quantizzatore realizza la discretizzazione in ampiezza ricevendo in ingresso il segnale dal componente precedente ed emettendo in uscita il valore digitale.

\section{Discretizzazione nel Tempo}
La discretizzazione nel tempo avviene campionando la tensione (segnale) in istanti di tempo regolarmente spaziati di una distanza $T_c$ detta periodo di campionamento ($f_c=\frac{1}{T_c}$ frequenza di campionamento) che dovrà essere, come vederemo tra poco, "abbastanza piccolo".
\subsection{Campionamento di un Segnale}
Abbiamo già visto nella Sezione \ref{interpolazione}, con la formula \ref{shannon} e il relativo teorema (di Shannon), come sia necessaria una certa \textit{frequenza di campionamento} ($f_{Sa}$ o $f_c$) per ricostruire un segnale, che deve essere almeno il doppio della massima frequenza (o \textbf{banda}) del segnale in ingresso.

Cosa succede se \textit{sottocampioniamo}? Si verificano degli errori di \textit{aliasing}. Per spiegare semplicemente questo fenomeno possiamo pensare ad un esempio applicabile alla vita di tutti i giorni: osservando la ruota di un'automobile che viaggia su un rettilineo. Per un certo range di velocità riusciamo a vedere la ruota che si muove nel senso di marcia, esattamente come ci aspettiamo. Per velocità superiori ad un certo limite (secondo il buon Shannon: per periodi di giro della ruota superiori al periodo di campionamento dell'occhio umano) invece, sembra che la ruota inizi a girare in senso antiorario, \textbf{contrario} al senso di marcia. Questo perché tra un campionamento del nostro occhio e l'altro la ruota non effettua un giro completo, ma poco meno di un giro completo: se questo si verifica ad ogni giro della ruota ecco che la vediamo girare in senso antiorario.

\section{Quantizzazione in Ampiezza}
\label{quantizzazione ampiezza}
La quantizzazione in ampiezza avviene suddividendo la dinamica $D$ di misura (intervallo di valori di tensione analogica misurabili in ingresso) in $N$ sottointervalli (livelli) di \textbf{larghezza costante} $\Delta V = \frac{D}{N}$ (risoluzione).

Alle tensioni analogiche che cadono nell'intrevallo $i$-esimo si associa un \textbf{valore numerico} corrispondente all'intero $i-1$ (cioè andiamo da $0$ a $N-1$) che identifica l'intervallo in questione. Naturalmente questo introduce un errore nella misura perché il numero di soglie è discreto e quindi a più valori di tensione analogici (diversi) associamo lo stesso valore digitale.

\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=8cm,
        height=7cm,
        keepaspectratio,
    ]{images/quantizzazioneAmpiezza.png}
    \caption{Schematizzazione del concetto di soglia e livelli.}
    \label{quantizzazioneAmpiezza}
  \end{center}
\end{figure}

\section{Errori nei convertitori}
\label{quantizzazione errore}
\begin{itemize}
  \item \textbf{Quantizzazione}: grazie ad espedienti di traslazione della caratteristica di $\frac{1}{2}$ bit possiamo avere un errore di quantizzazione equidistribuito tra il valore centrale della misura e un intervallo simmetrico di larghezza $\frac{1}{2}LSB$ (\textit{LSB: Least Significant Bit}).
  \item gli altri sono stati saltati che bello.
\end{itemize}
\section{Convertitore D/A a Rete di R}
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=8cm,
        height=7cm,
        keepaspectratio,
    ]{images/convertitoreR.png}
    \caption{Schema circuitale di un convertitore a rete di R.}
    \label{convertitoreR}
  \end{center}
\end{figure}
In figura \ref{convertitoreR} possiamo vedere lo schema circuitale di un convertitore a rete di R, che da un'unica tensione di riferimento costante ($V_{ref}$) preleva $n$ correnti pesate attraverso $n$ \textit{switch} (interruttori) $S_0,S_1,\ldots,S_{n-1}$ dove $n$ è il numero di bit in ingresso al convertitore.

Su ciascuno \textit{switch} $S_i$ è posta una resistenza $r_i = 2^{(n-1)-i}\cdot R$. Gli \textit{switch} sono comandati dalle cifre binarie $b_i$ del numero da convertire in tensione, con pesi tali che:
\begin{align*}
  &b_0~~~ = LSB~~~~\text{Least Significant Bit}\\
  &b_{n-1} = MSB~~~\text{Most Significant Bit}
\end{align*}
E l'operazionale serve da sommatore delle correnti pesate che passano attraverso gli \textit{switch} e converte la corrente risultante $i_o$, attraverso la restistenza di \textit{feedback}, in un'uscita di tensione $v_o$.

L'accuratezza del DAC dipende da $V_{ref}$, dalle $r_i$ e dalla qualità degli \textit{switch} (che abbiamo supposto ideali). I valori di tensione analogica $ V_o $ in uscita, \textbf{discreti} (quantizzati) e generati da campioni generali a $n$ bit, hanno una \textbf{incertezza}:
\begin{equation}
\label{incertezza convertitore R}
  u(V_o) = \frac{\frac{V_{o,max}}{2^n}}{\sqrt{12}}
\end{equation}
che come ricordiamo è l'espressione di una tipica incertezza di categoria B relativa ad un intervallo \textbf{uniforme} di distribuzione. Infatti abbiamo che il valore analogico \textit{esatto} della tensione in entrata è uniformemente distribuito nell'intervallo centrato nella soglia $i-esima$ e di ampiezza $ \frac{1}{2}LSB $ (come detto in Sezione \ref{quantizzazione ampiezza} e corretto in Sezione \ref{quantizzazione errore} e come visualizzato meglio in Figura \ref{intervallo voltmetro uniforme}).
\begin{figure}
  \begin{center}
    \includegraphics[
        width=8cm,
        height=7cm,
        keepaspectratio,
    ]{images/intervalloVoltmetroUniforme.png}
    \caption{Distribuzione uniforme per i valori in output del convertutore D/A a rete di R.}
    \label{intervallo voltmetro uniforme}
  \end{center}
\end{figure}
\chapter{Voltmetri Digitali (DVM) e DMM}
Vengono impiegati molto frequentemente nel campo delle misure e dell'acquisizione dati.

Le principali caratteristiche dei voltmetri che tratteremo durante il corso sono:
\begin{itemize}
  \item Numero di \textit{campi} (o \textit{range}, dinamica) di misura
  \item Numero di cifre decimali $ m $
  \item Numero di bit $ n $
  \item Numero di \textbf{livelli} $ N $
  \item \textbf{Risoluzione}
  \item Accuratezza
  \item \textbf{Velocità} di lettura
  \item Riduzione al rumore di modo differenziale
\end{itemize}
Trattiamo in generale voltmetri (DVM e DMM) dotati di display digitale dal quale leggere i valori delle misurazioni, quindi siamo \textbf{sicuri} di essere in assenza di errore di parallasse, per esempio.

Il parametro caratteristico di \textbf{risoluzione} è molto importante. Può essere dimensionale (in Volt) o adimensionale. Più è piccolo il $\Delta V$ di risoluzione più il voltmetro si dice ad alta definizione (perché può risolvere più livelli).

Formule per il calcolo dei parametri caratteristici principali dei voltmetri:
\begin{itemize}
  \item $ \Delta V = \frac{D}{N} = \frac{\text{Dinamica}}{\text{n. livelli}} $
  \item $ \delta = \frac{\Delta V}{D} = \frac{1}{N_{max}}$. Si esprime come "parti per..."
  \item $ m $ cifre decimali $ \rightarrow N = 10^m$
  \item $ n $ bit $ \rightarrow N = 2^n $
  \item $ m = \log_{10}(2^n) = n\log_{10}(2) = 0.3\cdot n $
\end{itemize} 

Le \textbf{mezze cifre} dei voltmetri nascono dal $ 0.3 \cdot n $. La \textbf{mezza cifra} è quella che non varia mai per tutte le 9 cifre possibili, ma fa solo una parte della scala. Per esempio: da 0 a 4096 ci vogliono 3 cifre che variano per tutti i 9 numeri, mentre l'ultima mostrerà sempre solo le cifre da 0 a 4. Un voltmetro a 5 cifre \textbf{piene} invece mostra tutti i numeri da 0 a 99'999.

\begin{table}[H]
  \caption{Prestazioni dei Voltmetri}
  \label{tab:voltmetri}

  \begin{center}
    \begin{tabular}{|l|c|r|}
    \hline
    \textbf{Velocità } &\textbf{Accuratezza} &\textbf{Tipo di Voltmetro} \\
    \hline
    [letture/s] & [1/incertezza]  &  (voltmetro) \\
    \hline  
       alta   &  bassa  & Flash a 8 bit \\
    \hline
       media  &  media  & Approssimazioni Successive a 10-16 bit \\
    \hline
       bassa  &  alta   & Integratori a 16-26 bit \\
    \hline
    \end{tabular}
  \end{center}
\end{table}

Per tutti i voltmetri il rapporto Velocità ad Accuratezza è sempre "costante", cioè sono in trade-off. Si ottengono dei buoni compromessi però, come possiamo vedere dalla Tabella \ref{tab:voltmetri}.

Per quanto riguarda l'incertezza, essa può essere calcolata come: 
\begin{align*}  
  &u_{q,B} = \frac{\Delta V}{\sqrt{12} } = 0.3~\Delta V \\
  &u_{r_q} = \frac{u_{r,b}}{Dinamica} \simeq \frac{0.3 \Delta V}{N \cdot \Delta V} \simeq \frac{0.3}{2^n} \simeq \frac{0.3}{65000}
\end{align*}
\section{Voltmetri Differenziali}
I voltmetri differenziali hanno tale nome perché eseguono la misura in base a una \textbf{differenza} tra una tensione $ V_x $ che è quella che si vuole misurare e una tensione $ V_r $ (tesione di riferimento), tentando di rendere questa differenza il più prossima possibile allo 0. In formule:
\begin{align*}
  V_x - kV_r \simeq 0
\end{align*}
In uscita verrà scritto il valore NON di $ V_x $ ma il valore di $ V_r $ che per noi poi è uguale a $ V_x $. Il trick è trovare la $ V_r $ corretta per far scattare il comparatore.

$ V_r $ è una tensione di riferimento \textbf{variabile} e per generarla si ricorre al \textbf{riferimento interno}, che è una tensione $ V_0 $ di elevata precisione e stabilità. L'\textbf{accuratezza} di $ V_0 $ e dunque di $ V_r $ si ripercuote sull'accuratezza dei singoli confronti e infine su quella dell'intera misura.

In entrambi i tipi di voltmetri (differenziali e integrali) viene fatto un largo uso dell'\textit{Op-Amp} (\textit{Op}erational \textit{Amp}lifier o Amplificatore Operazionale) con la sua funzione di \textbf{comparatore}.
\subsection{Voltmetro a Rampa Analogica}
\label{rampa analogica}
Questo voltmetro effettua la misura di un intervallo di tempo e calcola la $ V_r^* $ che manda a display. Perché misurare il tempo? Perché ad'ora il secondo è il campione più preciso che riusciamo a realizzare, quindi possiamo misurare con molta precisione l'intervallo di tempo.
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=12cm,
        height=6cm,
        keepaspectratio,
    ]{images/voltmetroAnalogico.png}
    \caption{Lo schema a blocchi di un Voltmetro a Rampa Analogica.}
  \end{center}
\end{figure}
Descriviamo il suo funzionamento:

Il primo \textbf{comparatore di livello} prende in ingresso la tensione $ V_x $ incognita e la $ V_r $ interna allo strumento. Il \textbf{Generatore di Rampe} (a stato solido) a dente di sega durante la fase di salita varia tuttte le $ V_r $ possibili in tutta la dinamica di $ V_x $ possibili. La $ V_r $ viene anche mandata ad un altro comparatore che la compara con zero e ci fa sapere quando la $ V_r $ è positiva o negativa. 

La \textbf{Logica di Controllo} ha 2 ingressi, uno "dice" se è scattato il comparatore con 0 e un altro "dice" se è scattato il comparatore con $ V_r $. La logica di controllo decide il segno di $ V_x $ in base a quale dei due comparatori scatta prima. Questo misuratore valuta il modulo della tensione che si traduce in un tempo, che misuriamo con un \textbf{contatore elettronico}. Prima del contatore c'è il \textbf{gate} che resta aperto un tempo $ \Delta T_{Gate} $ e durante questo tempo arrivano anche i segnali del clock. Il comparatore conta se il gate fa uscire 1 quindi so tradurre un intervallo di tempo in numero di colpi di clock.
Sfruttando il fatto che durante la rampa di salita del dente di sega la $ V_r $ prima o poi passa per $ V_x $, al primo comparatore che scatta la logica di controllo apre il gate e lo chiude al secondo che scatta.
L'intervallo di tempo che misuro è proporzionale a $ V_x $.

La \textbf{risoluzione} di questo voltmetro è di 4 o 5 cifre (10'000 o 100'000 conteggi). La pendenza della rampa è proporzionale all'intervallo di tempo che misuriamo $ p = |V_x|: \Delta T_G = V_M:\frac{T_{rampa}}{2} $.\\

Quindi questo voltmetro opera secondo una \textbf{conversione tensione/tempo} e la tensione $ V_x $ viene misurata contando un certo numero di periodi di \textit{clock} Tc in un intervallo di tempo $ \Delta T_G $ (proporzionale al modulo di $ V_x $) secondo la relazione:
\begin{align*}
  |V_x| = \frac{\Delta T_G}{\frac{T_{rampa}}{2}}V_M = \frac{N_c T_c}{\frac{T_{rampa}}{2}}V_M
\end{align*}

Gli \textbf{errori} in questo conteggio dipendono dagli errori nella misura dell'intervallo di tempo, quindi dagli errori che vengono commessi all'inizio e alla fine del conteggio, come mostrato in Figura \ref{erroreConteggio}.

\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=12cm,
        height=6cm,
        keepaspectratio,
    ]{images/erroreConteggio.png}
    \caption{}
    \label{erroreConteggio}
  \end{center}
\end{figure}
\begin{align*}
  &T_{stop} - T_{start} = \Delta T_G \propto |V_x|\\
  &\Delta T_G = N\cdot T_c + e_1 - e_2\\
  &\sigma^2 (\Delta T_G) = \sigma^2(e_i) + \sigma^2(e_2)\\
  &u(\Delta T_G) = \sigma(\Delta T_G) = \sqrt{2}\frac{T_c}{\sqrt{12}} 
\end{align*}

Come possiamo vedere dalle seguenti formule:
\begin{align*}
  &\delta = \frac{1}{N} = \frac{\Delta V}{D} = \frac{T_c}{T_{rampa}} = \frac{f_{rampa}}{f_c}\\
  &m = \log_{10}(N) = \log_{10}(\frac{f_c}{f_{rampa}})\\
  &n = \log_2(N) = \log_2(\frac{f_c}{f_{rampa}})
\end{align*}
la risoluzione migliora al crescere del rapporto $ \frac{f_c}{f_{rampa}} $. Conviene quindi lavorare con $ f_c $ alta, ma questo costringe ad avere un contatore a "molte cifre" e "veloce". Altri parametri sono:
\begin{align*}
  &|V_x| = p\cdot \Delta T_G \text{ da } \Delta T_G = N_c T_c = \frac{|V_x|}{p}\\
  &\text{con $p$ pendenza della rampa analogica } p = \frac{2V_M}{T_{rampa}}~ \Bigg[\frac{V}{s}\Bigg] 
\end{align*} 
Una sbatta vera è quindi la frequenza della rampa che dobbiamo avere perché deve essere alta, e quindi deve essere alta anche la $ f_{clock} $ perché $ N = \frac{f_c}{f_{rampa}} $ e quindi tocca avere anche $ f_{clock} $ alta. La risoluzione aumenta a $ \frac{f_c}{f_{rampa}} $ che aumenta. Ma in questo caso deve essere rapido e capiente.

\subsection{Voltmetro - Convertitore Flash}
È il più veloce convertitore A/D con $ T_{mis} = 1\cdot T_c $ (la misura occupa un colpo di clock) e raggiunge frequenze di conversione fino a 50 $ \frac{GSa}{s}$.

La complessià circuitale (e il costo) cresce esponenzialmente con il numero di bit (come $ 2^n $) e quindi si lavora a \textbf{bassa risoluzione}, che solamente è $ n \sim 8~\text{bit} $. Esistono anche conversioni da 10 e da 12 bit, mentre le conversioni da 13 bit in poi non hanno molto senso, perché ad alta velocità il \textbf{rumore} darà minor numero di \textbf{bit equivalenti}.
\begin{figure}
  \begin{center}
    \includegraphics[
        width=12cm,
        height=6cm,
        keepaspectratio,
    ]{images/voltmetroFlash.png}
    \caption{Lo schema a blocchi di un Voltmetro - Convertitore Flash.}
    \label{voltmetroFlash}
  \end{center}
\end{figure}

Nel circuito di questo voltmetro (che possiamo vedere in Figura \ref{voltmetroFlash}) l'\textit{Op-Amp} è usato con la sua funzione di comparatore, cioè "alza" l'uscita quando il segnale all'ingresso + supera in modulo quello sull'ingresso -. In questo caso è $ V_x $ che viene mandata in parallelo in ingresso a tutti i comparatori al morsetto +, mentre $ V_{ref} $ al morsetto - (partizionata da una rete di resistori).

Analizzando il circuito vediamo come vengono distinte $ N-1 $ soglie (dove $ N $ è sempre il numero dei livelli) attraverso una rete di resistori di valore $ R $ (tutti identici) se vogliamo campionare un segnale \textit{non}-polarizzato, mentre si usano agli estremi resistori di valore $ \frac{3}{2} R$ e $ \frac{R}{2} $ con lo scopo di dimezzare la soglia del primo livello in ampiezza per non avere \textit{offset} nella caratteristica di conversione nel convertire segnali \textbf{bipolari}.

In formule\footnotemark[1]\footnotetext[1]{È importante ricordare queste formule e il loro significato, anche perchè è spesso necessario usarle per rispondere al pre-compito in sede d'eseme.}:
\begin{itemize}
  \item $ N $ resistori tutti uguali:
  \begin{align*}
    &I = \frac{V_{ref}}{N\cdot R}\\
    &V_i = i(R\cdot I) = i(\Delta V) = i\frac{V_{ref}}{N}\text{ con i che va da 1 a $N-1$ e quindi abbiamo $ N-1 $ soglie.}
  \end{align*}
  \item Primo e ultimo resistore diversi:
  \begin{align*}
    &I = \frac{V_{ref}}{2R+(N-2)R} = \frac{V_{ref}}{N\cdot R}\\
    &V_i = \left[ \frac{R}{2}+(i+1)R\right] I = \left( i-\frac{1}{2} \right)\frac{V_{ref}}{N}\text{ con $ N-1 $ soglie.}
  \end{align*}
\end{itemize} 
Dato questo circuito quindi, se prendiamo ad esempio un numero di bit $ n = 8 $, possiamo distinguere 255 soglie di comparazione equivalenti avendo 255 possibili stati di commutazione 1/0 dell'uscita dei comparatori.

I comparatori sono messi in modo tale da avere, per un qualsiasi segnale d'ingresso, un'uscita che fino ad una certa "altezza" del circuito sarà 1, mentre sarà 0 per i livelli più "alti". Con un ingresso fatto come appena descritto, il codificatore binario riesce a scrivere tutto in uscita digitale, convertendo le $ N-1 $ soglie in ingresso in $ n $ bit in uscita (che rappresentano il valore binario della tensione misurata). \\


Questo voltmetro è usato in tutte le misure in cui la velocità è un parametro importante, come negli \textbf{oscilloscopi digitali} dove una risoluzione modesta non è un fattore limitante.\\

Per quanto riguarda la risoluzione, quella assoluta dipende naturalmente dalla dinamica e dal valore misurato, mentre quella relativa (per un convertitore a $ N = 256 $ livelli - $ n = 8 $ bit) risulta essere:
$$
  \delta = \frac{1}{256} \simeq 4\times 10^{-3}\text{~~~o \textit{"4 parti per mille"}}.
$$
\begin{figure}
  \begin{center}
    \includegraphics[
        width=12cm,
        height=8cm,
        keepaspectratio,
    ]{images/voltmetroFlash2.png}
    \caption{Schema a blocchi alternativo di un Voltmetro - Convertitore Flash.}
    \label{voltmetroFlash2}
  \end{center}
\end{figure}
In Figura \ref{voltmetroFlash2} vediamo anche un'altra possibile struttura per un convertitore Flash, che supporta una dinamica del segnale d'ingresso \textbf{bipolare} senza usare resistenze di valore diverso, ma modificando l'"acquisizione" dell'ingresso.

\subsubsection{Esercizio Convertitore Flash}
Dati dell'esercizio:
\begin{itemize}
  \item Dinamica $ D = \pm 10~V$. \textbf{Attenzione:} la dinamica \textbf{varia tra} -10 V e + 10 V, quindi abbiamo una \textbf{piena dinamica} di 20 V. È questo il dato che dobbiamo usare nei calcoli.
  \item $ N = 8 $ bit
  \item $ f_{sample} = 1~\frac{GSa}{s} $
\end{itemize}
Richieste:
\begin{itemize}
  \item $ \Delta V =~? $
  \item $ u(V) =~? $
  \item $ f_{x,max} =~? $
\end{itemize}
~\\ \\
Soluzione:
\begin{align*}
  \\
  &\Delta V = \frac{D}{2^n} = \frac{20~V}{256} \simeq 80~mV\\
  \\
  &u(V) = u_q(V) = \frac{\Delta V}{\sqrt{12}} \simeq 23~mV\text{~~l'incertezza è solo quella di quantizzazione}\\
  \\
  &f_{x,max} = \frac{f_{sample}}{2} = 500~MHz \text{~~~ dal teorema di Shannon (\ref{shannon})}
\end{align*}
\newpage

\subsection{Voltmetro ad Approssimazioni Successive}
Questo tipo di voltmetro è noto per essere il "compromesso" tra velocità e accuratezza. Il suo funzionamento si basa sul confrontare tutti gli $ n $ bit in uscita con l'entrata, per stabilire l'output corretto, attraverso un metodo di \textbf{bisezione}.

Come possiamo vedere dalla figura \ref{apprSuccessive} questo voltmetro è composto da:
\begin{itemize}
  \item Convertitore D/A a $ n $ bit, attraverso il quale converte il numero rappresentato dagli $ n $ bit in un valore di tensione che verrà confrontato con l'entrata.
  \item Comparatore e Logica di Controllo: il comparatore (neanche a dirlo) compara la tensione generata dal convertitore D/A e la tensione in ingresso e la logica di controllo si occupa di decidere se mantenere il bit in analisi a 1 oppure resettarlo a 0 (questa specifica funzione è implementata dal SAR - \textit{Successive Apprroximation Register})
  \item \textit{Clock} che sincronizza il funzionamento del voltmetro
\end{itemize}

Diversamente dal Flash, questo voltmetro necessita di più cicli di clock per completare la misura, in particolare ne servono da un minimo di 2 fino ad un massimo di 5 per eseguire un solo confronto.

Il funzionamento del singolo confronto può essere descritto dai seguenti passaggi (per semplicità usiamo 3 bit):
\begin{enumerate}
  \item La tensione $ V_x $ viene applicata al morsetto positivo dell'Op-Amp, il DAC (o D/A) comandato dal SAR ha tutti i bit "bassi" e il consensatore al mosetto - dell'Op-Amp è quindi scarico.
  \item Il SAR mette il MSB a 1, quindi il DAC a 3 bit converte l'ingresso [100] in uscita analogica. Il segnale di 4 Volt viene quindi comparato con l'ingresso attraverso l'Op-Amp che comunica il risultato in uscita alla logica di controllo
  \item Se il segnale generato risulta essere maggiore di $ V_x $ allora questo significa che il bit che è appena stato posto a 1 va resettato a 0. Se invece il segnale generato è minore di $ V_x $ la logica di controllo lo mantiene a 1 e passa al confronto del prossimo bit.
\end{enumerate}
Questi passaggi vengono ripetuti per ogni $ n-$esimo bit del voltmetro fino al LSB, ottenendo in uscita un valore del tipo, per l'esempio precedente: [101] per cui durante la conversione è stato necessario resettare il secondo bit. Quindi con soli $ n $ confronti si ottiene una \textbf{risoluzione} $ \delta = \frac{1}{N} = \frac{1}{2^n} $.\\


L'uscita del DAC è la rappresentazione analogica in volt con pesi binari di ciò che abbiamo scritto dentro il DAC:
$$
  V_{D/A} = \frac{V_{FS}}{2^n}[b_{n-1}2^{n-1}+\cdots+b_1 2 +b_0]
$$
\begin{figure}
  \begin{center}
    \includegraphics[
        width=12cm,
        height=8cm,
        keepaspectratio,
    ]{images/apprSuccessive.png}
    \caption{Schema a blocchi di un voltmetro ad Approssimazioni Successive.}
    \label{apprSuccessive}
  \end{center}
\end{figure}
Come sappiamo dalla teoria del corso di Fondamenti di Informatica, il peso della cifra meno significativa, che è il \textbf{limite di risoluzione}, è $\Delta V = \frac{V_{FS}}{2^n} = \frac{\Delta V}{N}$, mentre la più significativa vale $\frac{V_{FS}}{2}$\\

Il singolo confronto, come abbiamo detto prima, occupa un tempo multiplo del tempo di \textit{clock}:
$$
  T_{confronto} = mT_c\text{~~~con $ m $ compreso tra 2 e 5}
$$
Quindi il tempo di misura è fissato indipendentemente da $ V_x $ e vale:
$$
  T_{mis} = n(mT_c) = nT_{confronto}
$$

A partire dalle considerazioni fatte fin'ora possiamo concludere che questo voltmetro è abbastanza veloce, è abbastanza accurato e non sembra che costi più di tanto mettergli qualche bit in più, anche in termini di tempo dato che se aggiungo 4 bit esso aumenta di un fattore 4. Non ha più senso però spingersi ad altissime risoluzioni, come abbiamo già detto, per il fatto del rumore che diventa di modulo più alto della risoluzione dello strumento quindi non ho più resistenza al rumore ma anzi lo vedo e lo misuro.

\textbf{Il principale difetto} di questo strumento è che in presenza di rumore, se ho sfortuna, il SAR può mettere a 0 un bit che doveva lasciare a 1. Su quale bit pesa il rumore si vede da quanto è alto il massimo picco (o valore efficace) del rumore e qual è il $ \Delta V $ che sto confrontando (tipo V/8 o V/4). Un esempio di conversione scorretta è visibile in Figura \ref{conversioneScorretta}. 
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=12cm,
        height=6cm,
        keepaspectratio,
    ]{images/erroreApprSucc.png}
    \caption{Grafico in cui possiamo vedere un esempio di errore di conversione.}
    \label{conversioneScorretta}
  \end{center}
\end{figure}
\textbf{La risoluzione effettiva} dipende dal rumore presente agli stadi d'ingresso del comparatore (e non è sempre $ V_{FS} / 2^n$).

\textbf{L'accuratezza}: dipende dal riferimento interno, dalla qualità del DAC e dal rumore del comparatore.

\textbf{Stato dell'Arte}:
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=8cm,
        height=6cm,
        keepaspectratio,
    ]{images/tabellaApprSucc.png}
    \caption{Diversi set di parametri considerati ottimali per questo tipo di voltmetri.}
  \end{center}
\end{figure}

Per limitare il rumore si può mettere un filtro \textit{passa-basso} a monte. si media l'errore ma si riduce anche la velocità di converisone. Le \textbf{prestazioni} in generale del voltmetro possono raggiungere livelli più che sufficienti all'utilizzo che ne facciamo noi. Ad esempio: nel laboratorio in via Golgi abbiamo delle DAQ che al loro interno hanno quesi tipi di voltmetri, le cui caratteristiche sono:
\begin{itemize}
  \item $ T_{misura} = 5~\mu s $ ossia $ f_{sample} = 200~\frac{kSa}{s} $
  \item $ n $ = 12-16 bit
\end{itemize}
\newpage
\subsubsection{Esercizio Voltmetro ad Approssimazioni Successive}
Dati dell'esercizio:
\begin{itemize}
  \item Dinamica del segnale d'ingresso: $ 0-2~V $
  \item $ n = 7 $ bit
  \item $ f_{c} = 1~MHz $
  \item $ T_{confronto} = 2T_{clock} $
\end{itemize}~\\
Richieste:
\begin{enumerate}
  \item Ricavare il tempo di misura $ T{mis} $
  \item Ricavare il valore misurato $ V_{mis} $ rispetto ad una tensione sotto misura di valore $ V_x = 1205~mV $
  \item Ricavare l'errore percentuale di $ V_{mis} $ 
\end{enumerate}~\\
Soluzioni:
\begin{enumerate}
  \item Conoscendo la frequenza di clock possiamo ricavare il tempo di clock e quindi il $ T_{confronto} $, con il quale possiamo calcolare il tempo di misura:
  \begin{align*}
    &T_c = \frac{1}{f_c} = 1 \mu s \\
    &\Rightarrow T_{confr} = 2T_c = 2~\mu s \\
    &\Rightarrow T_{mis} = nT_{confr} = 14~\mu s \\
  \end{align*}
  \item Come possiamo vedere dalla Figura \ref{esercizioApprSucc} il valore di misura risulta essere: $ V_{mis} = 1203.125~mV $
  \item L'errore percentuale si calcola tramite la formula:
  $$
    \frac{|V_x  V_{mis}|}{V_x} = 0.1556 \%
  $$
\end{enumerate}
\begin{figure}
  \begin{center}
    \includegraphics[
        width=8cm,
        height=6cm,
        keepaspectratio,
    ]{images/esercizioApprSucc.png}
    \caption{Grafico di conversione ad approsimazioni successive.}
    \label{esercizioApprSucc}
  \end{center}
\end{figure}
Notiamo come in questo caso con soli 7 bit abbiamo una \textbf{risoluzione}:
$$
  \Delta V = \frac{V_{max}}{2^n} = \frac{2~V}{128} \simeq 15.6~mV
$$
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Voltmetri Integratori (o a Integrazione)}
Caratteristici per essere lenti, ma molto accurati. Completamente diversi dai differenziali perchè non sfruttano una differenza tra il valore in ingresso ed un riferimento interno, ma il loro circuito calcola il risultato secondo l'integrale del segnale d'ingresso e dei rumori.
\begin{equation}
  V_m \propto \frac{1}{T_I}\int_0^{T_I}V(t)dt
\end{equation}
I voltmetri a integrazione hanno intrinsecamente una \textbf{reiezione al disturbo}
$$
  V(t) = V_x + V_d(t)\text{~~~segnale + disturbo}
$$
La particolarità di questa relazione è:
\begin{equation}
  V_m = \frac{1}{T_I}\int_0^{T_I}[V_x + V_d(t)]dt = V_x + \frac{1}{T_I}\int_0^{T_I}V_d(t)dt
\end{equation}
Per quanto riguarda l'ultimo termine $\left(\frac{1}{T_I}\int_0^{T_I}V_d(t)dt\right)$ noi abbiamo l'obiettivo di renderlo trascurabile, attraverso alcune strategie ed impostazioni di tempo (tempo di integrazione $ T_I $).

Il modo \textbf{più efficace} per eliminare completamente un disturbo dalla misura, \textbf{conoscendo la sua frequenza}, è quello di settare il tempo di integrazione $ T_I $ ad un \textbf{multiplo del periodo del segnale di disturbo}. In questo modo, come si può intuire, l'integrale del segnale di disturbo sarà sicuramente \textbf{nullo}.

In formule:
\begin{align*}
  &\frac{1}{T_I}\int_0^{T_I}V_d(t)dt \rightarrow 0\text{~~per~~} T_I \rightarrow kT_d\text{~~dove~~} k \in \mathbb{N} 
\end{align*}
Se invece non riesco a settare $ T_I $ ad esattamente un multiplo perchè non conosco esattamente la frequenza (e quindi il periodo) del disturbo allora mi rimane una parte e, in casi fortunati o studiati intelligentemente, questa parte è sufficientemente piccola da risultare trascurabile.

In generale comunque per $ T_I >> T_d $ la reiezione al disturbo migliora, infatti è vero che:
\begin{align*}
    &\frac{1}{T_I}\int_0^{T_I}V_d(t)dt \rightarrow 0\text{~~per~~} T_I \rightarrow \infty\text{~~oppure~~} T_I >> T_d 
\end{align*}
Quindi se conosciamo la frequenza del disturbo è utile scegliere un $ T_I $ opportuno, mentre sappiamo che in generale per un "$ T_I $ lungo" la reiezione al disturbo \textbf{migliora}.

Date queste considerazioni, concludiamo che si ha una \textbf{peggiore} reiezione al disturbo quando le componenti di disturbo hanno periodo più lungo (quindi frequenza più lenta). Più questa frequenza è "vicina" a quella della continua (0), più è difficile eliminare il disturbo. I disturbi \textbf{non eliminabili} sono infatti quelli \textit{indistinguibili} dal segnale di misura. Anche se questi sono molto spesso errori di \textit{offset} e quindi eliminabili.

Naturalmente questi ragionamenti valgono per ogni disturbo, ma se in una misura avessimo un \textit{pool} di disturbi di diversa natura che vogliamo eliminare, allora dato un certo numero di disturbi che voglio rigettare conviene prendere $ T_I $ molto più grande della \textbf{minima frequenza} dei disturbi considerati.

\subsubsection{Trasmissione e Reiezione}
La \textbf{trasmissione} $ (t) $ e la \textbf{reiezione} $ (r) $ del disturbo, in ampiezza, saranno:
\begin{align*}
  &t = \Bigg|\frac{V_{d,m}}{V_{d,0}}\Bigg| = \Bigg|\frac{sin(x)}{x}\Bigg| = |sinc(x)| \Rightarrow \frac{V_{OUT}}{V_{IN}}\\
  \\
  &r = \Bigg|\frac{V_{d,0}}{V_{d,m}}\Bigg| = \Bigg|\frac{x}{sin(x)}\Bigg| = \Bigg|\frac{1}{sinc(x)}\Bigg| \Rightarrow \frac{V_{IN}}{V_{OUT}}
\end{align*}
dove $x = \pi f T = \pi f_d T_I$.\\

Quindi la \textbf{reiezione} cresce (tendenzialmente) al crescere di $ x $ e dunque di $ f_d $ e $ T_I $. Fissata quindi una delle due, possiamo scegliere l'altra per avere una reiezione ottimale.

Fissata la frequenza del disturbo sappiamo scegliere il tempo di integrazione perfetto per eliminare tutti i disturbi a tale frequenza, mentre fissato il tempo di integrazione sappiamo le frequenze dei disturbi che possiamo eliminare.

\subsubsection{Integrazione - Reiezione in Potenza}
La \textbf{trasmissione in potenza} e la \textbf{reiezione in potenza} sono:
\begin{align*}
  &T = t^2 = \frac{sin^2(x)}{x^2}\\
  \\
  &R = r^2 = \frac{x^2}{sin^2(x)}
  \\
  &\text{Quest'ultima in \textbf{scala logaritmica} diventa}\\
  &R_{dB} = 10\log_{10}R = 20\log_{10}\Bigg|\frac{x}{sin(x)}\Bigg|
\end{align*}
In figura \ref{andamentiTR} possiamo vedere gli andamenti qualitativi di trasmissione e reiezione in funzione della frequenza del disturbo.
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=10cm,
        height=8cm,
        keepaspectratio,
    ]{images/andamentiTR.png}
    \caption{Andamenti di trasmissione e reiezione}
    \label{andamentiTR}
  \end{center}
\end{figure}
E come possiamo vedere dalla figura \ref{andamentoSinc} all'aumentare di $ x_p = \pi f_d T_I $ la reiezione aumenta.
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=10cm,
        height=8cm,
        keepaspectratio,
    ]{images/andamentoSinc.png}
    \caption{Andamento del modulo si $ sinx(x_p) $.}
    \label{andamentoSinc}
  \end{center}
\end{figure}

\subsection{Voltmetro a Doppia Rampa}

Come il voltmetro a rampa analogica (Sezione \ref{rampa analogica}) anche questo opera una conversione tensione-tempo e misura $ \Delta T_G $ (Gate).

Questa conversione avviene dapprima in un tempo costante $ T_I $ nel quale andiamo a caricare il condensatore interno fino ad un certo punto.

Equazione della misura:
\begin{equation}
  V_x = - \frac{T_D}{T_U}V_R = - \frac{N_D}{N_U}V_R
\end{equation}
L'integrale della $ V_x $ dev'essere bilanciato dall'integrale della $ V_R $. La differenza è che $ V_x $ viene integrata per un tempo costante, mentre la $ V_R $ viene integrata per tutto il tempo necessario a far sì che esso bilanci l'integrale di $ V_x $.

Quello che abbiamo chiamato $ T_U $ (T UP) è in realtà il \textbf{tempo di integrazione} ($ T_I $) e quindi $ T_U = N_U T_C $ è \textbf{costante} e \textbf{fissato}, mentre il $ T_D $ (T DOWN) è il tempo che convertiamo in tensione, che è il tempo che impiega il condensatore a scaricarsi a 0.

Quindi il tempo di misura totale è 
$$
  T_{mis} = T_U + T_D
$$
che è variabile con $ T_D $ (che varia proporzionalmente a $ V_x $) e dipende da $ V_x $ come nel voltmetro a rampa analogica.

Ricaviamo la formula di $ V_x $ come costante strumentale moltiplicata per conteggi misurati durante il processo:
\begin{equation}
  V_x = \frac{-V_R}{N_U}N_D
\end{equation}
Quindi misuro $ V_x $ contando $ N_D $ (conversione tensione-tempo).

Misura teoricamente insensibile a valori, e incertezze, che R e C (tau = 1 su RC) e altri parametri strumentali (fc e Tc). Naturalmente l'\textbf{incertezza} di  $ V_R $ si trasferisce $ 1:1 $ su $ V_x $. L'unico errore presente nel voltmetro a doppia rampa è quello nel conteggio di $ N_D $.

\subsubsection{Incertezza}
Come nel caso del voltmetro a rampa analogica, essendo la misura efettuata per conteggio, ci sarà \textbf{sempre} un errore ed un'incertezza di \textbf{quantizzazione} pari a:
$$
  u_q(V_x) = \frac{\text{1 conteggio}}{\sqrt{12}}~~~\text{(che viene da una PDF uniforme)}
$$
e avrà una formula esatta:
$$
  u_q(V_x) = -\frac{V_R}{N_U}\frac{1}{\sqrt{12}}
$$
La sensibilità, la risoluione e l'incertezza di quantzzazione dipendono dalla portada del voltmetro ($ V_{x,max} $) e "capacità di conteggio" ($ N_{D,max} $).\\

L'\textbf{incertezza relativa}:
$$
  u_r^2 (V_x) = u_r^2(V_R)+u_r^2(N_D)
$$
Ma, considerando che per $ N_D >> \frac{1}{u_r(V_R)} $ si ha $ u_r(N_D) << u_r(V_R) $ e  quindi il \textbf{limite ultimo} di incertezza della misura pari a $ u_r(V_x) \simeq u_r(V_r)$

\paragraph{Nota} Poiché il valore limite per $ u_r(V_R) \simeq 2\times 10^{-7}$ se ne deduce che il \textbf{migliore DVM} può avere circa $ 6\frac{1}{2} $ cifre (significative), con un numero massimo di livelli $ N_{max} = 5\times 10^6 $ che comporta un numero di bit \textit{equivalenti} $ n = 22 $.

\newpage
\subsection{Esercizio sul Voltmetro a Doppia Rampa}
Ipotiziamo di effettuare una misura a 16 bit in presenza di disturbo a $ f_d = 50~Hz $, con $ T_I = 100~ms $ con quarzo a frequenza $ f_c = 1~MHz $.
Quindi, dati:
\begin{itemize}
  \item $ n = 16~bit $
  \item $ f_d = 50~Hz $
  \item $ T_I = 100~ms $
  \item $ f_c = 1~MHz $
\end{itemize}~\\
Richieste:
\begin{enumerate}
  \item Determinare la \textbf{velocità di lettura} in termini di $ f_{mis} $
  \item Determinare il numero di cifre decimali del contatore: $ M_{contatore} $
\end{enumerate}

\textcolor{red}{CopiaML}.

\section{Bit Equivalenti}

Bit equivalenti (2/7) Disponendo di un convertitore/voltmetro che quantizza il segnale s(t) su n bit, si avrà un PASSO DI QUANTIZZAZIONE Q=D/2n Se D è la dinamica del segnale e anche del voltmetro, si ha una varianza (“incertezza di quantizzazione") è possibile ricavare n (bit) dal rapporto S/N (Signal/Noise) Voltmetri e Convertitori 73/80

\chapter{Oscilloscopi}
Un \textbf{oscilloscopio} uno strumento di misura che consente la visualizzazione grafica dell'evoluzione temporale di un segnale di tensione (in ordinata) in funzione del tempo (in ascissa). In completa differenza rispetto ai voltmetri, la cui funzione è quella di misurare un valore di tensione incognito \textbf{in un certo istante di tempo}. Utilizzando scale graduate, è possibile effettuare misure \textit{quantitative} oltre che qualitative.

Purtroppo l'oscilloscopio è nato per misure veloci di segnali a larga banda e per questo ha un rumore interno molto elevato, quindi con gli oscilloscopi è impossibile analizzare segnali di ampiezza \textit{picco-valle} dell'ordine dei \textit{microvolt}.

\section{Sezioni dell'Oscilloscopio}
\begin{itemize}
  \item \textbf{Schermo} e regolazione della traccia: consente di visualizzare una traccia luminosa che evolve nel dominio del tempo (asse $ X $) tenendo conto dei livelli di tensione (asse $ Y $)
  \item Condizionamento e amplificazione \textbf{verticale} (accoppiamenti e guadagno d'ingresso): consente di \textbf{accoppiare} il segnale in DC o AC (o GND) e di scegliere il fattore di scala verticale $ A_{Y} = \left[ \frac{V}{DIV} \right] $ per l'asse Y.
  \item Sincronismo (\textbf{trigger}): consente di "\textbf{agganciare}" un livello, con una data pendenza, sul segnale di trigger e da quel punto fa partire la visualizzazione
  \item Base dei \textbf{tempi} (amplificazione orizzontale): consente di "\textbf{scansionare}" la traccia da sx a dx lungo l'asse X e di scegliere il fattore di scala orizzontale $ A_{X} = \left[ \frac{s}{DIV} \right] $
\end{itemize}
\begin{figure}[H]
  \begin{center}
    \includegraphics[
        width=12cm,
        height=6cm,
        keepaspectratio,
    ]{images/pannelloOscilloscopio.png}
    \caption{Schematizzazione del Pannello Frontale di un generico Oscilloscopio.}
  \end{center}
\end{figure}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Esercizi di Conversione}
\label{esercizi:conversione}
\section{Conversione di Potenze}
\begin{table}[H]
  \caption{}
  \label{tab:}

  \begin{center}
    \begin{tabular}{|l|r|}
    \hline
    Lineare                 & dB\\
    \hline
       2                    & $\simeq +3$ \\
    \hline
       $\frac{1}{2}$        & $\simeq -3$ \\
    \hline
       $5 = \frac{10}{2}$   & $\simeq +7$ \\
    \hline
       $\frac{1}{5}$        & $\simeq -7$ \\
    \hline
    \end{tabular}
  \end{center}
\end{table}
Per la prima è sufficiente andare a memoria o effettuare un rapido calcolo con la calcolatrice.\\
Per la seconda è necessario usare le proprietà dei logaritmi:
\begin{equation}
  \label{logaritmi:frazione}
  log_{10}(\frac{1}{x}) = log_{10}(x^{-1}) = -log_{10}(x)  
\end{equation}
Per la terza possiamo ancora usare le proprietà dei logaritmi:
\begin{equation}
  \label{logaritmi:differenza}
  10log_{10}(5) = 10log_{10}(\frac{10}{2}) = 10log_{10}(10)-10log_{10}(2) \simeq 10 - 3 = 7  
\end{equation}
mentre per l'ultima si utilizza nuovamente la \ref{logaritmi:frazione}.
\section{Conversione di Ampiezze}
\begin{table}[H]
  \caption{}
  \label{tab:}

  \begin{center}
    \begin{tabular}{|l|r|}
    \hline
    Lineare                               & dB\\
    \hline
       $\sqrt{2}$                         & $\simeq +3$ \\
    \hline
       2                                  & $\simeq +6$ \\
    \hline
       $\frac{\sqrt{2}}{2} \simeq 0.707$  & $\simeq -3$ \\
    \hline
       $5$                                & $\simeq 14$ \\
    \hline
       $\frac{1}{5}$                      & $\simeq -14$ \\
    \hline
    \end{tabular}
  \end{center}
\end{table}
È abbastanza semplice notare come per alcuni valori noti sia sufficiente, se si è già calcolato o se lo si ricorda meglio, raddoppiare il valore in dB della potenza.

Altre operazioni di derivazione (senza calcolatrice o ragionamenti troppo complessi) che possiamo facilmente effettuare sono, per esempio, quelle similari alla prima conversione della tabella. Se conosciamo $10log_{10}(2) = 3$, allora possiamo ricavare facilmente, con le proprietà dei logaritmi:
$$
  20log_{10}(2^{\frac{1}{2}}) = \frac{20}{2}log_{10}(2) = 10log_{10}(2)
$$
Possiamo usare un ragionamento simile a \ref{logaritmi:differenza} per ottenere la terza conversione della tabella: conoscendo la conversione di $\sqrt{2}$ e tenendo presente il fatto che dividere per 2 nel processo di conversione possiamo interpretarlo come sottrarre 6:
$$
  20log_{10}(\frac{\sqrt{2}}{2}) = 20log_{10}(\sqrt{2})-20log_{10}(2) = +3-6 = -3
$$ 
\chapter{Esercizi sull'Incertezza}
\section{Esercizio su Compatibilità e Media Pesata}
\subsubsection*{Dati}
\begin{itemize}
  \item $I[A]$ nota attraverso $n = 6$ misurazioni che hanno fornito i valori:
  $$
      I_{1,1} = 3.12~A~~~I_{1,2} = 2.98~A~~~I_{1,3} = 3.06~A~~~I_{1,4} = 2.95~A~~~I_{1,5} = 2.93~A
  $$
  \item $V = 5~V$ misurata con un multimetro a $3\frac{1}{2}$ cifre e fondoscala di $20~V$. (Quindi con $\Delta V = 10~mV$)
\end{itemize}
Calcolare $P=V\cdot I = ?$ (valore e incertezza).\\

Partiamo dal calcolare l'incertezza di categoria B per \textbf{V}, supponiamo il multimetro ideale (con solo errore di quantizzazione) con una distribuzione del valore di misura \textbf{uniforme}.
\begin{align*}
  u(V) = \frac{\Delta V}{\sqrt{12}} = 2.9~mV
\end{align*}
Per \textbf{I} invece dobbiamo calcolare un'incertezza di categoria A. Lo facciamo sempre tramite la Formula \ref{inc.cat.A} e abbiamo:
\begin{align*}
  \bar{I} = \frac{1}{n}\sum^n_{i=1}I_i = 3~A \\
  u(I) = \frac{s(I_i)}{\sqrt{n}} = 0.0031~A
\end{align*}
Ora abbiamo tutte le componenti per calcolare \textbf{P} e la sua incertezza (composta) con la Formula \ref{incertezza composta: formula generale}. Ricordando che la relazione funzionale è una produttoria semplice, e possiamo quindi sommare i quadrati delle incertezze relative.
$$
  P = 15~W = \bar{I}\cdot V
$$
\begin{align*}
  &u_r(\bar{I}) = \frac{u(\bar{I})}{\bar{I}} = 1\%.\\
  &u_r(V) = \frac{u(V)}{V} = 0.58\%\\
  &\Rightarrow
  u_r(P) = \sqrt{u_r^2(\bar{I})+u_r^2(V)} = 1.2~V \\
  &\Rightarrow
  u(P) = u_r(P)\cdot P = 0.18~W
\end{align*}
\end{document}
